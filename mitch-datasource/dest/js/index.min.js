!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("mitchdatasource",[],t):"object"==typeof exports?exports.mitchdatasource=t():e.MitchDatasource=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="./dest",r(r.s="./src/index.js")}({"./node_modules/axios/index.js":
/*!*************************************!*\
  !*** ./node_modules/axios/index.js ***!
  \*************************************/
/*! no static exports found */function(e,t,r){e.exports=r(/*! ./lib/axios */"./node_modules/axios/lib/axios.js")},"./node_modules/axios/lib/adapters/xhr.js":
/*!************************************************!*\
  !*** ./node_modules/axios/lib/adapters/xhr.js ***!
  \************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./../utils */"./node_modules/axios/lib/utils.js"),o=r(/*! ./../core/settle */"./node_modules/axios/lib/core/settle.js"),s=r(/*! ./../helpers/buildURL */"./node_modules/axios/lib/helpers/buildURL.js"),i=r(/*! ./../helpers/parseHeaders */"./node_modules/axios/lib/helpers/parseHeaders.js"),a=r(/*! ./../helpers/isURLSameOrigin */"./node_modules/axios/lib/helpers/isURLSameOrigin.js"),u=r(/*! ../core/createError */"./node_modules/axios/lib/core/createError.js");e.exports=function(e){return new Promise(function(t,c){var l=e.data,f=e.headers;n.isFormData(l)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",h=e.auth.password||"";f.Authorization="Basic "+btoa(p+":"+h)}if(d.open(e.method.toUpperCase(),s(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?i(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};o(t,c,n),d=null}},d.onabort=function(){d&&(c(u("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){c(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){c(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var y=r(/*! ./../helpers/cookies */"./node_modules/axios/lib/helpers/cookies.js"),m=(e.withCredentials||a(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;m&&(f[e.xsrfHeaderName]=m)}if("setRequestHeader"in d&&n.forEach(f,function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),c(e),d=null)}),void 0===l&&(l=null),d.send(l)})}},"./node_modules/axios/lib/axios.js":
/*!*****************************************!*\
  !*** ./node_modules/axios/lib/axios.js ***!
  \*****************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./utils */"./node_modules/axios/lib/utils.js"),o=r(/*! ./helpers/bind */"./node_modules/axios/lib/helpers/bind.js"),s=r(/*! ./core/Axios */"./node_modules/axios/lib/core/Axios.js"),i=r(/*! ./core/mergeConfig */"./node_modules/axios/lib/core/mergeConfig.js");function a(e){var t=new s(e),r=o(s.prototype.request,t);return n.extend(r,s.prototype,t),n.extend(r,t),r}var u=a(r(/*! ./defaults */"./node_modules/axios/lib/defaults.js"));u.Axios=s,u.create=function(e){return a(i(u.defaults,e))},u.Cancel=r(/*! ./cancel/Cancel */"./node_modules/axios/lib/cancel/Cancel.js"),u.CancelToken=r(/*! ./cancel/CancelToken */"./node_modules/axios/lib/cancel/CancelToken.js"),u.isCancel=r(/*! ./cancel/isCancel */"./node_modules/axios/lib/cancel/isCancel.js"),u.all=function(e){return Promise.all(e)},u.spread=r(/*! ./helpers/spread */"./node_modules/axios/lib/helpers/spread.js"),e.exports=u,e.exports.default=u},"./node_modules/axios/lib/cancel/Cancel.js":
/*!*************************************************!*\
  !*** ./node_modules/axios/lib/cancel/Cancel.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},"./node_modules/axios/lib/cancel/CancelToken.js":
/*!******************************************************!*\
  !*** ./node_modules/axios/lib/cancel/CancelToken.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./Cancel */"./node_modules/axios/lib/cancel/Cancel.js");function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},"./node_modules/axios/lib/cancel/isCancel.js":
/*!***************************************************!*\
  !*** ./node_modules/axios/lib/cancel/isCancel.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"./node_modules/axios/lib/core/Axios.js":
/*!**********************************************!*\
  !*** ./node_modules/axios/lib/core/Axios.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./../utils */"./node_modules/axios/lib/utils.js"),o=r(/*! ../helpers/buildURL */"./node_modules/axios/lib/helpers/buildURL.js"),s=r(/*! ./InterceptorManager */"./node_modules/axios/lib/core/InterceptorManager.js"),i=r(/*! ./dispatchRequest */"./node_modules/axios/lib/core/dispatchRequest.js"),a=r(/*! ./mergeConfig */"./node_modules/axios/lib/core/mergeConfig.js");function u(e){this.defaults=e,this.interceptors={request:new s,response:new s}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[i,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},u.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],function(e){u.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}}),n.forEach(["post","put","patch"],function(e){u.prototype[e]=function(t,r,o){return this.request(n.merge(o||{},{method:e,url:t,data:r}))}}),e.exports=u},"./node_modules/axios/lib/core/InterceptorManager.js":
/*!***********************************************************!*\
  !*** ./node_modules/axios/lib/core/InterceptorManager.js ***!
  \***********************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./../utils */"./node_modules/axios/lib/utils.js");function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},"./node_modules/axios/lib/core/createError.js":
/*!****************************************************!*\
  !*** ./node_modules/axios/lib/core/createError.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./enhanceError */"./node_modules/axios/lib/core/enhanceError.js");e.exports=function(e,t,r,o,s){var i=new Error(e);return n(i,t,r,o,s)}},"./node_modules/axios/lib/core/dispatchRequest.js":
/*!********************************************************!*\
  !*** ./node_modules/axios/lib/core/dispatchRequest.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./../utils */"./node_modules/axios/lib/utils.js"),o=r(/*! ./transformData */"./node_modules/axios/lib/core/transformData.js"),s=r(/*! ../cancel/isCancel */"./node_modules/axios/lib/cancel/isCancel.js"),i=r(/*! ../defaults */"./node_modules/axios/lib/defaults.js"),a=r(/*! ./../helpers/isAbsoluteURL */"./node_modules/axios/lib/helpers/isAbsoluteURL.js"),u=r(/*! ./../helpers/combineURLs */"./node_modules/axios/lib/helpers/combineURLs.js");function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||i.adapter)(e).then(function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},"./node_modules/axios/lib/core/enhanceError.js":
/*!*****************************************************!*\
  !*** ./node_modules/axios/lib/core/enhanceError.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},"./node_modules/axios/lib/core/mergeConfig.js":
/*!****************************************************!*\
  !*** ./node_modules/axios/lib/core/mergeConfig.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ../utils */"./node_modules/axios/lib/utils.js");e.exports=function(e,t){t=t||{};var r={};return n.forEach(["url","method","params","data"],function(e){void 0!==t[e]&&(r[e]=t[e])}),n.forEach(["headers","auth","proxy"],function(o){n.isObject(t[o])?r[o]=n.deepMerge(e[o],t[o]):void 0!==t[o]?r[o]=t[o]:n.isObject(e[o])?r[o]=n.deepMerge(e[o]):void 0!==e[o]&&(r[o]=e[o])}),n.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}),r}},"./node_modules/axios/lib/core/settle.js":
/*!***********************************************!*\
  !*** ./node_modules/axios/lib/core/settle.js ***!
  \***********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./createError */"./node_modules/axios/lib/core/createError.js");e.exports=function(e,t,r){var o=r.config.validateStatus;!o||o(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},"./node_modules/axios/lib/core/transformData.js":
/*!******************************************************!*\
  !*** ./node_modules/axios/lib/core/transformData.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./../utils */"./node_modules/axios/lib/utils.js");e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},"./node_modules/axios/lib/defaults.js":
/*!********************************************!*\
  !*** ./node_modules/axios/lib/defaults.js ***!
  \********************************************/
/*! no static exports found */function(e,t,r){"use strict";(function(t){var n=r(/*! ./utils */"./node_modules/axios/lib/utils.js"),o=r(/*! ./helpers/normalizeHeaderName */"./node_modules/axios/lib/helpers/normalizeHeaderName.js"),s={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:(void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?a=r(/*! ./adapters/http */"./node_modules/axios/lib/adapters/xhr.js"):"undefined"!=typeof XMLHttpRequest&&(a=r(/*! ./adapters/xhr */"./node_modules/axios/lib/adapters/xhr.js")),a),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){u.headers[e]={}}),n.forEach(["post","put","patch"],function(e){u.headers[e]=n.merge(s)}),e.exports=u}).call(this,r(/*! ./../../process/browser.js */"./node_modules/process/browser.js"))},"./node_modules/axios/lib/helpers/bind.js":
/*!************************************************!*\
  !*** ./node_modules/axios/lib/helpers/bind.js ***!
  \************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},"./node_modules/axios/lib/helpers/buildURL.js":
/*!****************************************************!*\
  !*** ./node_modules/axios/lib/helpers/buildURL.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./../utils */"./node_modules/axios/lib/utils.js");function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(n.isURLSearchParams(t))s=t.toString();else{var i=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))}))}),s=i.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},"./node_modules/axios/lib/helpers/combineURLs.js":
/*!*******************************************************!*\
  !*** ./node_modules/axios/lib/helpers/combineURLs.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"./node_modules/axios/lib/helpers/cookies.js":
/*!***************************************************!*\
  !*** ./node_modules/axios/lib/helpers/cookies.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./../utils */"./node_modules/axios/lib/utils.js");e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"./node_modules/axios/lib/helpers/isAbsoluteURL.js":
/*!*********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/isAbsoluteURL.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},"./node_modules/axios/lib/helpers/isURLSameOrigin.js":
/*!***********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/isURLSameOrigin.js ***!
  \***********************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./../utils */"./node_modules/axios/lib/utils.js");e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},"./node_modules/axios/lib/helpers/normalizeHeaderName.js":
/*!***************************************************************!*\
  !*** ./node_modules/axios/lib/helpers/normalizeHeaderName.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ../utils */"./node_modules/axios/lib/utils.js");e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},"./node_modules/axios/lib/helpers/parseHeaders.js":
/*!********************************************************!*\
  !*** ./node_modules/axios/lib/helpers/parseHeaders.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./../utils */"./node_modules/axios/lib/utils.js"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,i={};return e?(n.forEach(e.split("\n"),function(e){if(s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),r=n.trim(e.substr(s+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}}),i):i}},"./node_modules/axios/lib/helpers/spread.js":
/*!**************************************************!*\
  !*** ./node_modules/axios/lib/helpers/spread.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"./node_modules/axios/lib/utils.js":
/*!*****************************************!*\
  !*** ./node_modules/axios/lib/utils.js ***!
  \*****************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./helpers/bind */"./node_modules/axios/lib/helpers/bind.js"),o=r(/*! is-buffer */"./node_modules/axios/node_modules/is-buffer/index.js"),s=Object.prototype.toString;function i(e){return"[object Array]"===s.call(e)}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===s.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===s.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]="object"==typeof r?e({},r):r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},"./node_modules/axios/node_modules/is-buffer/index.js":
/*!************************************************************!*\
  !*** ./node_modules/axios/node_modules/is-buffer/index.js ***!
  \************************************************************/
/*! no static exports found */function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},"./node_modules/decode-uri-component/index.js":
/*!****************************************************!*\
  !*** ./node_modules/decode-uri-component/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function s(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],s(r),s(n))}function i(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=s(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=o.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=i(r[0]);n!==r[0]&&(t[r[0]]=n)}r=o.exec(e)}t["%C2"]="�";for(var s=Object.keys(t),a=0;a<s.length;a++){var u=s[a];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},"./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */function(e,t){var r,n,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"./node_modules/query-string/index.js":
/*!********************************************!*\
  !*** ./node_modules/query-string/index.js ***!
  \********************************************/
/*! no static exports found */function(e,t,r){"use strict";const n=r(/*! strict-uri-encode */"./node_modules/strict-uri-encode/index.js"),o=r(/*! decode-uri-component */"./node_modules/decode-uri-component/index.js"),s=r(/*! split-on-first */"./node_modules/split-on-first/index.js");function i(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function a(e,t){return t.decode?o(e):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function c(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":return(e,t,r)=>{const n="string"==typeof t&&t.split("").indexOf(",")>-1?t.split(","):t;r[e]=n};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",parseNumbers:!1,parseBooleans:!1},t)),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const o of e.split("&")){let[e,i]=s(o.replace(/\+/g," "),"=");i=void 0===i?null:a(i,t),t.parseNumbers&&!Number.isNaN(Number(i))?i=Number(i):!t.parseBooleans||null===i||"true"!==i.toLowerCase()&&"false"!==i.toLowerCase()||(i="true"===i.toLowerCase()),r(a(e,t),i,n)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=c,t.parse=l,t.stringify=(e,t)=>{if(!e)return"";const r=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const o=r.length;return void 0===n?r:null===n?[...r,[i(t,e),"[",o,"]"].join("")]:[...r,[i(t,e),"[",i(o,e),"]=",i(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n?r:null===n?[...r,[i(t,e),"[]"].join("")]:[...r,[i(t,e),"[]=",i(n,e)].join("")];case"comma":return t=>(r,n,o)=>null==n||0===n.length?r:0===o?[[i(t,e),"=",i(n,e)].join("")]:[[r,i(n,e)].join(",")];default:return t=>(r,n)=>void 0===n?r:null===n?[...r,i(t,e)]:[...r,[i(t,e),"=",i(n,e)].join("")]}}(t=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},t)),n=Object.keys(e);return!1!==t.sort&&n.sort(t.sort),n.map(n=>{const o=e[n];return void 0===o?"":null===o?i(n,t):Array.isArray(o)?o.reduce(r(n),[]).join("&"):i(n,t)+"="+i(o,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>({url:u(e).split("?")[0]||"",query:l(c(e),t)})},"./node_modules/split-on-first/index.js":
/*!**********************************************!*\
  !*** ./node_modules/split-on-first/index.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},"./node_modules/strict-uri-encode/index.js":
/*!*************************************************!*\
  !*** ./node_modules/strict-uri-encode/index.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./js/QueryBuilder */"./src/js/QueryBuilder.js"),o=r(/*! ./js/DatasourceBase */"./src/js/DatasourceBase.js"),s=r(/*! ./js/AjaxDatasource */"./src/js/AjaxDatasource.js"),i=r(/*! ./js/ArrayDatasource */"./src/js/ArrayDatasource.js");t.default={QueryBuilder:n.default,DatasourceBase:o.default,AjaxDatasource:s.default,ArrayDatasource:i.default}},"./src/js/AjaxDatasource.js":
/*!**********************************!*\
  !*** ./src/js/AjaxDatasource.js ***!
  \**********************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! axios */"./node_modules/axios/index.js"),o=r.n(n),s=r(/*! ./DatasourceBase */"./src/js/DatasourceBase.js"),i=r(/*! ./QueryBuilder */"./src/js/QueryBuilder.js");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=r.ajax;n&&"object"===l(n)&&(n=u({},t.prototype.defaults.ajax,{},n));var o=u({},t.prototype.defaults,{},r,{ajax:n});return(e=d(this,p(t).call(this,o)))._total=null,e._data=null,o.queryBuilder instanceof i.default?e.queryBuilder=o.queryBuilder:o.queryBuilder&&(e.queryBuilder=new i.default(o.queryBuilder)),e.ajax=o.ajax,e}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,s["default"]),r=t,(n=[{key:"_ajaxCall",value:function(e,t){var r=t?t.toLowerCase():t,n={},s=e;"get"===r?s="".concat(s,"?").concat(this.queryBuilder.getQueryString(this)):n=this.queryBuilder.getQueryObject(this);var i=this.ajax.options||{};return o()(u({},i,{method:r,url:s,data:n}))}},{key:"_buildAjaxHandler",value:function(){var e=this,t={function:function(){return e.ajax.call(e,e.queryBuilder)},string:function(){var t=e.ajax;return e._ajaxCall(t,"get")},object:function(){var t=e.ajax.url,r=e.ajax.method||"get";return e._ajaxCall(t,r)}},r=l(this.ajax),n=t[r];if(!n)throw new Error("Does not support provided ajax object of type ".concat(r));return n}},{key:"update",value:function(){var e=this;return this._buildAjaxHandler().call(this).then(function(){for(var r=e.ajax.mapper||t.prototype.defaults.ajax.mapper,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];var i=r.apply(e,o);e._data=i.data,e._total=i.total})}},{key:"total",get:function(){return this._total}},{key:"data",get:function(){return this._data}}])&&f(r.prototype,n),a&&f(r,a),t}();y.prototype.defaults={queryBuilder:{},ajax:{options:{},mapper:function(e){return{data:e.data,total:e.total}}}},t.default=y},"./src/js/ArrayDatasource.js":
/*!***********************************!*\
  !*** ./src/js/ArrayDatasource.js ***!
  \***********************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./DatasourceBase */"./src/js/DatasourceBase.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t.prototype.defaults,{},r);return(e=u(this,c(t).call(this,n)))._rawData=n.data,e._search=n.search,e._sort=n.sort,e._data=null,e._processedData=null,e}var r,o,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,n["default"]),r=t,(o=[{key:"_getProcessedData",value:function(){var e=this._rawData;return this.searchText&&(e=this._search.call(this,e,this.searchText)),this._sort&&(e=this._sort.call(this,e,this.sortField,this.sortDirection)),e}},{key:"update",value:function(){var e=this;return new Promise(function(t,r){if(e._rawData)try{e._processedData=e._getProcessedData(),e._data=e._processedData.slice(e.offset,e.offset+e.size),t()}catch(e){r(e)}else t()})}},{key:"total",get:function(){return this._processedData?this._processedData.length:this._rawData?this._rawData.length:0}},{key:"data",get:function(){return this._data}}])&&a(r.prototype,o),f&&a(r,f),t}();f.prototype.defaults={data:null,search:function(e){return e},sort:function(e,t,r){return e}},t.default=f},"./src/js/DatasourceBase.js":
/*!**********************************!*\
  !*** ./src/js/DatasourceBase.js ***!
  \**********************************/
/*! exports provided: default */function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t);var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(r,!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e.prototype.defaults,{},t);this.offset=r.offset,this.size=r.size,this.searchText=r.searchText,this.sortField=null,this.sortDirection=null,r.page&&(this.page=r.page)}var t,r,i;return t=e,(r=[{key:"update",value:function(){throw new Error("Method not supported for ".concat(this.constructor.name))}},{key:"goToPage",value:function(e){var t=this;return new Promise(function(r,n){try{e>=0&&e<=t.totalPages?(t.page=e,t.update().then(function(){r(!0)})):r(!1)}catch(e){n(e)}})}},{key:"nextPage",value:function(){return this.goToPage(this.page+1)}},{key:"prevPage",value:function(){return this.goToPage(this.page-1)}},{key:"search",value:function(e){return this.searchText=e,this.update()}},{key:"sort",value:function(e,t){if(!e||!t)throw new Error("Sort field and sort direction must be provided");return this.sortField=e,this.sortDirection=t,this.update()}},{key:"data",get:function(){throw new Error("Getter not supported for ".concat(this.constructor.name))}},{key:"total",get:function(){throw new Error("Getter not supported for ".concat(this.constructor.name))}},{key:"pageTotal",get:function(){if(this.offset===this.total)return 0;var e=this.total-this.offset;return e<=this.size?e:this.size}},{key:"page",get:function(){return(this.offset+this.size)/this.size},set:function(e){this.offset=e*this.size-this.size}},{key:"isFirstPage",get:function(){return this.page<=1}},{key:"isLastPage",get:function(){return this.page>=this.totalPages}},{key:"totalPages",get:function(){return null!==this.total&&this.size?0===this.total?0:Math.ceil(this.total/this.size):null}}])&&s(t.prototype,r),i&&s(t,i),e}();i.prototype.defaults={offset:0,size:10,searchText:null},t.default=i},"./src/js/QueryBuilder.js":
/*!********************************!*\
  !*** ./src/js/QueryBuilder.js ***!
  \********************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! query-string */"./node_modules/query-string/index.js"),o=r.n(n);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=i({},e.prototype.defaults,{},t);this.queryObjectMap=r.queryObjectMap,this.queryStringOptions=r.queryStringOptions,this.serialiseToQueryString=r.serialiseToQueryString}var t,r,n;return t=e,(r=[{key:"getQueryObject",value:function(e){if(!this.queryObjectMap)throw new Error("queryObjectMap must be specified and cannot be undefined or null.");return this.queryObjectMap.call(this,e)}},{key:"getQueryString",value:function(e){var t=i({},this.getQueryObject(e));if(this.serialiseToQueryString)return this.serialiseToQueryString.call(this,t);throw new Error("Query string serialiser is specified as null or undefined in the options.")}}])&&u(t.prototype,r),n&&u(t,n),e}();l.prototype.defaults={queryObjectMap:function(e){var t=Object.entries(e).filter(function(e){return 0!==e[0].indexOf("_")&&"object"!==c(e[1])}),r={page:e.page};return t.forEach(function(e){var t=e[0],n=e[1];r[t]=n}),r},serialiseToQueryString:function(e){return Object.keys(e).forEach(function(t){if(Array.isArray(e[t])&&function(e){for(var t=0;t<e.length;t+=1)if("object"===c(e[t]))return!0;return!1}(e[t]))for(var r=0;r<e[t].length;r+=1)e[t][r]=JSON.stringify(e[t][r]);else"object"===c(e[t])&&(e[t]=JSON.stringify(e[t]))}),o.a.stringify(e,this.queryStringOptions)},queryStringOptions:{arrayFormat:"bracket"}},t.default=l}}).default});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2Uvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL01pdGNoRGF0YXNvdXJjZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9heGlvcy5qcyIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWwuanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwid2VicGFjazovL01pdGNoRGF0YXNvdXJjZS8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2NyZWF0ZUVycm9yLmpzIiwid2VicGFjazovL01pdGNoRGF0YXNvdXJjZS8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2VuaGFuY2VFcnJvci5qcyIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvbWVyZ2VDb25maWcuanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcyIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvdHJhbnNmb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2RlZmF1bHRzLmpzIiwid2VicGFjazovL01pdGNoRGF0YXNvdXJjZS8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovL01pdGNoRGF0YXNvdXJjZS8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idWlsZFVSTC5qcyIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZS5qcyIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzIiwid2VicGFjazovL01pdGNoRGF0YXNvdXJjZS8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9ub2RlX21vZHVsZXMvYXhpb3Mvbm9kZV9tb2R1bGVzL2lzLWJ1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9ub2RlX21vZHVsZXMvZGVjb2RlLXVyaS1jb21wb25lbnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9ub2RlX21vZHVsZXMvcXVlcnktc3RyaW5nL2luZGV4LmpzIiwid2VicGFjazovL01pdGNoRGF0YXNvdXJjZS8uL25vZGVfbW9kdWxlcy9zcGxpdC1vbi1maXJzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9ub2RlX21vZHVsZXMvc3RyaWN0LXVyaS1lbmNvZGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vTWl0Y2hEYXRhc291cmNlLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL01pdGNoRGF0YXNvdXJjZS8uL3NyYy9qcy9BamF4RGF0YXNvdXJjZS5qcyIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9zcmMvanMvQXJyYXlEYXRhc291cmNlLmpzIiwid2VicGFjazovL01pdGNoRGF0YXNvdXJjZS8uL3NyYy9qcy9EYXRhc291cmNlQmFzZS5qcyIsIndlYnBhY2s6Ly9NaXRjaERhdGFzb3VyY2UvLi9zcmMvanMvUXVlcnlCdWlsZGVyLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJ0aGlzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInV0aWxzIiwic2V0dGxlIiwiYnVpbGRVUkwiLCJwYXJzZUhlYWRlcnMiLCJpc1VSTFNhbWVPcmlnaW4iLCJjcmVhdGVFcnJvciIsImNvbmZpZyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdERhdGEiLCJkYXRhIiwicmVxdWVzdEhlYWRlcnMiLCJoZWFkZXJzIiwiaXNGb3JtRGF0YSIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsImF1dGgiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiQXV0aG9yaXphdGlvbiIsImJ0b2EiLCJvcGVuIiwibWV0aG9kIiwidG9VcHBlckNhc2UiLCJ1cmwiLCJwYXJhbXMiLCJwYXJhbXNTZXJpYWxpemVyIiwidGltZW91dCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJyZXNwb25zZVVSTCIsImluZGV4T2YiLCJyZXNwb25zZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZSIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlVGV4dCIsInN0YXR1c1RleHQiLCJvbmFib3J0Iiwib25lcnJvciIsIm9udGltZW91dCIsImlzU3RhbmRhcmRCcm93c2VyRW52IiwiY29va2llcyIsInhzcmZWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInhzcmZDb29raWVOYW1lIiwicmVhZCIsInVuZGVmaW5lZCIsInhzcmZIZWFkZXJOYW1lIiwiZm9yRWFjaCIsInZhbCIsInRvTG93ZXJDYXNlIiwic2V0UmVxdWVzdEhlYWRlciIsImUiLCJvbkRvd25sb2FkUHJvZ3Jlc3MiLCJhZGRFdmVudExpc3RlbmVyIiwib25VcGxvYWRQcm9ncmVzcyIsInVwbG9hZCIsImNhbmNlbFRva2VuIiwicHJvbWlzZSIsInRoZW4iLCJjYW5jZWwiLCJhYm9ydCIsInNlbmQiLCJBeGlvcyIsIm1lcmdlQ29uZmlnIiwiY3JlYXRlSW5zdGFuY2UiLCJkZWZhdWx0Q29uZmlnIiwiY29udGV4dCIsImluc3RhbmNlIiwiZXh0ZW5kIiwiYXhpb3MiLCJpbnN0YW5jZUNvbmZpZyIsImRlZmF1bHRzIiwiQ2FuY2VsIiwiQ2FuY2VsVG9rZW4iLCJpc0NhbmNlbCIsImFsbCIsInByb21pc2VzIiwic3ByZWFkIiwiZGVmYXVsdCIsIm1lc3NhZ2UiLCJ0b1N0cmluZyIsIl9fQ0FOQ0VMX18iLCJleGVjdXRvciIsIlR5cGVFcnJvciIsInJlc29sdmVQcm9taXNlIiwidG9rZW4iLCJyZWFzb24iLCJ0aHJvd0lmUmVxdWVzdGVkIiwic291cmNlIiwiSW50ZXJjZXB0b3JNYW5hZ2VyIiwiZGlzcGF0Y2hSZXF1ZXN0IiwiaW50ZXJjZXB0b3JzIiwiYXJndW1lbnRzIiwiY2hhaW4iLCJpbnRlcmNlcHRvciIsInVuc2hpZnQiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInB1c2giLCJsZW5ndGgiLCJzaGlmdCIsImdldFVyaSIsInJlcGxhY2UiLCJtZXJnZSIsImhhbmRsZXJzIiwidXNlIiwiZWplY3QiLCJpZCIsImZuIiwiaCIsImVuaGFuY2VFcnJvciIsImNvZGUiLCJlcnJvciIsIkVycm9yIiwidHJhbnNmb3JtRGF0YSIsImlzQWJzb2x1dGVVUkwiLCJjb21iaW5lVVJMcyIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJiYXNlVVJMIiwidHJhbnNmb3JtUmVxdWVzdCIsImNvbW1vbiIsImFkYXB0ZXIiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsImlzQXhpb3NFcnJvciIsInRvSlNPTiIsImRlc2NyaXB0aW9uIiwibnVtYmVyIiwiZmlsZU5hbWUiLCJsaW5lTnVtYmVyIiwiY29sdW1uTnVtYmVyIiwic3RhY2siLCJjb25maWcxIiwiY29uZmlnMiIsInByb3AiLCJpc09iamVjdCIsImRlZXBNZXJnZSIsInZhbGlkYXRlU3RhdHVzIiwiZm5zIiwicHJvY2VzcyIsIm5vcm1hbGl6ZUhlYWRlck5hbWUiLCJERUZBVUxUX0NPTlRFTlRfVFlQRSIsIkNvbnRlbnQtVHlwZSIsInNldENvbnRlbnRUeXBlSWZVbnNldCIsImlzVW5kZWZpbmVkIiwiaXNBcnJheUJ1ZmZlciIsImlzQnVmZmVyIiwiaXNTdHJlYW0iLCJpc0ZpbGUiLCJpc0Jsb2IiLCJpc0FycmF5QnVmZmVyVmlldyIsImJ1ZmZlciIsImlzVVJMU2VhcmNoUGFyYW1zIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwibWF4Q29udGVudExlbmd0aCIsIkFjY2VwdCIsInRoaXNBcmciLCJhcmdzIiwiQXJyYXkiLCJhcHBseSIsImVuY29kZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInNlcmlhbGl6ZWRQYXJhbXMiLCJwYXJ0cyIsImlzQXJyYXkiLCJ2IiwiaXNEYXRlIiwidG9JU09TdHJpbmciLCJqb2luIiwiaGFzaG1hcmtJbmRleCIsInNsaWNlIiwicmVsYXRpdmVVUkwiLCJ3cml0ZSIsImV4cGlyZXMiLCJwYXRoIiwiZG9tYWluIiwic2VjdXJlIiwiY29va2llIiwiaXNOdW1iZXIiLCJEYXRlIiwidG9HTVRTdHJpbmciLCJpc1N0cmluZyIsImRvY3VtZW50IiwibWF0Y2giLCJSZWdFeHAiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJub3ciLCJ0ZXN0Iiwib3JpZ2luVVJMIiwibXNpZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInVybFBhcnNpbmdOb2RlIiwiY3JlYXRlRWxlbWVudCIsInJlc29sdmVVUkwiLCJocmVmIiwic2V0QXR0cmlidXRlIiwicHJvdG9jb2wiLCJob3N0Iiwic2VhcmNoIiwiaGFzaCIsImhvc3RuYW1lIiwicG9ydCIsInBhdGhuYW1lIiwiY2hhckF0Iiwid2luZG93IiwibG9jYXRpb24iLCJyZXF1ZXN0VVJMIiwicGFyc2VkIiwibm9ybWFsaXplZE5hbWUiLCJpZ25vcmVEdXBsaWNhdGVPZiIsInNwbGl0IiwibGluZSIsInRyaW0iLCJzdWJzdHIiLCJjb25jYXQiLCJjYWxsYmFjayIsImFyciIsImlzRnVuY3Rpb24iLCJvYmoiLCJGb3JtRGF0YSIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwicGlwZSIsIlVSTFNlYXJjaFBhcmFtcyIsInByb2R1Y3QiLCJyZXN1bHQiLCJhc3NpZ25WYWx1ZSIsImEiLCJiIiwic3RyIiwiY29uc3RydWN0b3IiLCJzaW5nbGVNYXRjaGVyIiwibXVsdGlNYXRjaGVyIiwiZGVjb2RlQ29tcG9uZW50cyIsImNvbXBvbmVudHMiLCJlcnIiLCJsZWZ0IiwicmlnaHQiLCJkZWNvZGUiLCJpbnB1dCIsInRva2VucyIsImVuY29kZWRVUkkiLCJyZXBsYWNlTWFwIiwiJUZFJUZGIiwiJUZGJUZFIiwiZXhlYyIsImVudHJpZXMiLCJrZXlzIiwiY3VzdG9tRGVjb2RlVVJJQ29tcG9uZW50IiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluUXVldWUiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJzdHJpY3RVcmlFbmNvZGUiLCJkZWNvZGVDb21wb25lbnQiLCJzcGxpdE9uRmlyc3QiLCJvcHRpb25zIiwic3RyaWN0IiwicmVtb3ZlSGFzaCIsImhhc2hTdGFydCIsImV4dHJhY3QiLCJxdWVyeVN0YXJ0IiwiZm9ybWF0dGVyIiwiYXJyYXlGb3JtYXQiLCJhY2N1bXVsYXRvciIsIm5ld1ZhbHVlIiwicGFyc2VyRm9yQXJyYXlGb3JtYXQiLCJhc3NpZ24iLCJzb3J0IiwicGFyc2VOdW1iZXJzIiwicGFyc2VCb29sZWFucyIsInJldCIsInBhcmFtIiwiTnVtYmVyIiwiaXNOYU4iLCJyZWR1Y2UiLCJCb29sZWFuIiwia2V5c1NvcnRlciIsIm1hcCIsImluZGV4IiwiZW5jb2RlckZvckFycmF5Rm9ybWF0IiwiZmlsdGVyIiwieCIsInBhcnNlVXJsIiwicXVlcnkiLCJzdHJpbmciLCJzZXBhcmF0b3IiLCJzZXBhcmF0b3JJbmRleCIsImNoYXJDb2RlQXQiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX2pzX1F1ZXJ5QnVpbGRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX2pzX0RhdGFzb3VyY2VCYXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfanNfQWpheERhdGFzb3VyY2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9qc19BcnJheURhdGFzb3VyY2VfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyIsIlF1ZXJ5QnVpbGRlciIsIkRhdGFzb3VyY2VCYXNlIiwiQWpheERhdGFzb3VyY2UiLCJBcnJheURhdGFzb3VyY2UiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsImFqYXgiLCJfdHlwZW9mIiwiX29iamVjdFNwcmVhZCIsIm1lcmdlZE9wdGlvbnMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9nZXRQcm90b3R5cGVPZiIsIl90b3RhbCIsIl9kYXRhIiwicXVlcnlCdWlsZGVyIiwiYWN0dWFsTWV0aG9kIiwiYWN0dWFsVXJsIiwiZ2V0UXVlcnlTdHJpbmciLCJnZXRRdWVyeU9iamVjdCIsImF4aW9zT3B0aW9ucyIsIl90aGlzMiIsImFqYXhIYW5kbGVyIiwiZnVuY3Rpb24iLCJfYWpheENhbGwiLCJhamF4T2JqZWN0VHlwZSIsImFjdHVhbEFqYXhIYW5kbGVyIiwiX3RoaXMzIiwiX2J1aWxkQWpheEhhbmRsZXIiLCJtYXBwZXIiLCJfbGVuIiwicmVzcG9uc2VzIiwiX2tleSIsIm1hcHBlZE9iamVjdCIsInRvdGFsIiwiX3Jhd0RhdGEiLCJfc2VhcmNoIiwiX3NvcnQiLCJfcHJvY2Vzc2VkRGF0YSIsInByb2Nlc3NlZERhdGEiLCJzZWFyY2hUZXh0Iiwic29ydEZpZWxkIiwic29ydERpcmVjdGlvbiIsIl9nZXRQcm9jZXNzZWREYXRhIiwib2Zmc2V0Iiwic2l6ZSIsImZpZWxkTmFtZSIsImRpcmVjdGlvbiIsInBhZ2UiLCJwYWdlTnVtIiwidG90YWxQYWdlcyIsInVwZGF0ZSIsImdvVG9QYWdlIiwibmV3U2VhcmNoVGV4dCIsIml0ZW1zUmVtYWluaW5nIiwibmV3UGFnZSIsIk1hdGgiLCJjZWlsIiwicXVlcnlPYmplY3RNYXAiLCJxdWVyeVN0cmluZ09wdGlvbnMiLCJzZXJpYWxpc2VUb1F1ZXJ5U3RyaW5nIiwiZGF0YXNvdXJjZSIsIm9iamVjdFRvU2VyaWFsaXNlIiwiZmlsdGVyZWRFbnRyaWVzIiwiZW50cnkiLCJxdWVyeU9iamVjdCIsImhhc09iamVjdEluQXJyYXkiLCJxdWVyeVN0cmluZyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxpQkFBQUMsU0FBQSxpQkFBQUMsT0FDQUEsT0FBQUQsUUFBQUQsSUFDQSxtQkFBQUcsZUFBQUMsSUFDQUQsT0FBQSxxQkFBQUgsR0FD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dUJBbkNnQyxTQW1DVEUsR0FVckIsT0FUQXZhLE9BQU9vUixLQUFLbUosR0FBbUI5VixRQUFRLFNBQUNzRixHQUN0QyxHQUFJMEIsTUFBTU0sUUFBUXdPLEVBQWtCeFEsS0F6RTFDLFNBQTBCc0YsR0FDeEIsSUFBSyxJQUFJL1AsRUFBSSxFQUFHQSxFQUFJK1AsRUFBSXhILE9BQVF2SSxHQUFLLEVBQ25DLEdBQXNCLFdBQWxCMlgsRUFBTzVILEVBQUkvUCxJQUNiLE9BQU8sRUFHWCxPQUFPLEVBbUUyQ3FiLENBQWlCSixFQUFrQnhRLElBQy9FLElBQUssSUFBSXpLLEVBQUksRUFBR0EsRUFBSWliLEVBQWtCeFEsR0FBTWxDLE9BQVF2SSxHQUFLLEVBQ3ZEaWIsRUFBa0J4USxHQUFNekssR0FBSzRMLEtBQUtDLFVBQVVvUCxFQUFrQnhRLEdBQU16SyxRQUUxQixXQUFuQzJYLEVBQU9zRCxFQUFrQnhRLE1BQ2xDd1EsRUFBa0J4USxHQUFRbUIsS0FBS0MsVUFBVW9QLEVBQWtCeFEsT0FHeEQ2USxJQUFZelAsVUFBVW9QLEVBQW1CcmIsS0FBS2tiLHFCQUd2REEsbUJBQW9CLENBUWxCekYsWUFBYSxZQUlGK0IiLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJtaXRjaGRhdGFzb3VyY2VcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wibWl0Y2hkYXRhc291cmNlXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIk1pdGNoRGF0YXNvdXJjZVwiXSA9IGZhY3RvcnkoKTtcbn0pKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiLi9kZXN0XCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2luZGV4LmpzXCIpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9heGlvcycpOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkIHx8ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplciksIHRydWUpO1xuXG4gICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcbiAgICByZXF1ZXN0LnRpbWVvdXQgPSBjb25maWcudGltZW91dDtcblxuICAgIC8vIExpc3RlbiBmb3IgcmVhZHkgc3RhdGVcbiAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAvLyBoYW5kbGVkIGJ5IG9uZXJyb3IgaW5zdGVhZFxuICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCAmJiAhKHJlcXVlc3QucmVzcG9uc2VVUkwgJiYgcmVxdWVzdC5yZXNwb25zZVVSTC5pbmRleE9mKCdmaWxlOicpID09PSAwKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgICB2YXIgcmVzcG9uc2VIZWFkZXJzID0gJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCA/IHBhcnNlSGVhZGVycyhyZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSA6IG51bGw7XG4gICAgICB2YXIgcmVzcG9uc2VEYXRhID0gIWNvbmZpZy5yZXNwb25zZVR5cGUgfHwgY29uZmlnLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnID8gcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgdmFyIHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdOZXR3b3JrIEVycm9yJywgY29uZmlnLCBudWxsLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcigndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnLFxuICAgICAgICByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuICAgIGlmICh1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG4gICAgICB2YXIgY29va2llcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb29raWVzJyk7XG5cbiAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgdmFyIHhzcmZWYWx1ZSA9IChjb25maWcud2l0aENyZWRlbnRpYWxzIHx8IGlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWQgRE9NRXhjZXB0aW9uIHRocm93biBieSBicm93c2VycyBub3QgY29tcGF0aWJsZSBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyLlxuICAgICAgICAvLyBCdXQsIHRoaXMgY2FuIGJlIHN1cHByZXNzZWQgZm9yICdqc29uJyB0eXBlIGFzIGl0IGNhbiBiZSBwYXJzZWQgYnkgZGVmYXVsdCAndHJhbnNmb3JtUmVzcG9uc2UnIGZ1bmN0aW9uLlxuICAgICAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL2NvcmUvbWVyZ2VDb25maWcnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgdmFyIGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIHZhciBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0KTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8vIENyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB0byBiZSBleHBvcnRlZFxudmFyIGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3M7XG5cbi8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbmF4aW9zLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICByZXR1cm4gY3JlYXRlSW5zdGFuY2UobWVyZ2VDb25maWcoYXhpb3MuZGVmYXVsdHMsIGluc3RhbmNlQ29uZmlnKSk7XG59O1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbCcpO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWxUb2tlbicpO1xuYXhpb3MuaXNDYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9pc0NhbmNlbCcpO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuYXhpb3Muc3ByZWFkID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NwcmVhZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuXG4vLyBBbGxvdyB1c2Ugb2YgZGVmYXVsdCBpbXBvcnQgc3ludGF4IGluIFR5cGVTY3JpcHRcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBheGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBIGBDYW5jZWxgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsKG1lc3NhZ2UpIHtcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbn1cblxuQ2FuY2VsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gJ0NhbmNlbCcgKyAodGhpcy5tZXNzYWdlID8gJzogJyArIHRoaXMubWVzc2FnZSA6ICcnKTtcbn07XG5cbkNhbmNlbC5wcm90b3R5cGUuX19DQU5DRUxfXyA9IHRydWU7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ2FuY2VsID0gcmVxdWlyZSgnLi9DYW5jZWwnKTtcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBDYW5jZWxUb2tlbihleGVjdXRvcikge1xuICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIHJlc29sdmVQcm9taXNlO1xuICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBwcm9taXNlRXhlY3V0b3IocmVzb2x2ZSkge1xuICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgfSk7XG5cbiAgdmFyIHRva2VuID0gdGhpcztcbiAgZXhlY3V0b3IoZnVuY3Rpb24gY2FuY2VsKG1lc3NhZ2UpIHtcbiAgICBpZiAodG9rZW4ucmVhc29uKSB7XG4gICAgICAvLyBDYW5jZWxsYXRpb24gaGFzIGFscmVhZHkgYmVlbiByZXF1ZXN0ZWRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0b2tlbi5yZWFzb24gPSBuZXcgQ2FuY2VsKG1lc3NhZ2UpO1xuICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbkNhbmNlbFRva2VuLnByb3RvdHlwZS50aHJvd0lmUmVxdWVzdGVkID0gZnVuY3Rpb24gdGhyb3dJZlJlcXVlc3RlZCgpIHtcbiAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgdGhyb3cgdGhpcy5yZWFzb247XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAqL1xuQ2FuY2VsVG9rZW4uc291cmNlID0gZnVuY3Rpb24gc291cmNlKCkge1xuICB2YXIgY2FuY2VsO1xuICB2YXIgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgIGNhbmNlbCA9IGM7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHRva2VuOiB0b2tlbixcbiAgICBjYW5jZWw6IGNhbmNlbFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWxUb2tlbjtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLi9oZWxwZXJzL2J1aWxkVVJMJyk7XG52YXIgSW50ZXJjZXB0b3JNYW5hZ2VyID0gcmVxdWlyZSgnLi9JbnRlcmNlcHRvck1hbmFnZXInKTtcbnZhciBkaXNwYXRjaFJlcXVlc3QgPSByZXF1aXJlKCcuL2Rpc3BhdGNoUmVxdWVzdCcpO1xudmFyIG1lcmdlQ29uZmlnID0gcmVxdWlyZSgnLi9tZXJnZUNvbmZpZycpO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZUNvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBBeGlvcyhpbnN0YW5jZUNvbmZpZykge1xuICB0aGlzLmRlZmF1bHRzID0gaW5zdGFuY2VDb25maWc7XG4gIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKSxcbiAgICByZXNwb25zZTogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpXG4gIH07XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHNwZWNpZmljIGZvciB0aGlzIHJlcXVlc3QgKG1lcmdlZCB3aXRoIHRoaXMuZGVmYXVsdHMpXG4gKi9cbkF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gcmVxdWVzdChjb25maWcpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcbiAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uZmlnID0gYXJndW1lbnRzWzFdIHx8IHt9O1xuICAgIGNvbmZpZy51cmwgPSBhcmd1bWVudHNbMF07XG4gIH0gZWxzZSB7XG4gICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICB9XG5cbiAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcbiAgY29uZmlnLm1ldGhvZCA9IGNvbmZpZy5tZXRob2QgPyBjb25maWcubWV0aG9kLnRvTG93ZXJDYXNlKCkgOiAnZ2V0JztcblxuICAvLyBIb29rIHVwIGludGVyY2VwdG9ycyBtaWRkbGV3YXJlXG4gIHZhciBjaGFpbiA9IFtkaXNwYXRjaFJlcXVlc3QsIHVuZGVmaW5lZF07XG4gIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbmZpZyk7XG5cbiAgdGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIHVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiBwdXNoUmVzcG9uc2VJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB3aGlsZSAoY2hhaW4ubGVuZ3RoKSB7XG4gICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihjaGFpbi5zaGlmdCgpLCBjaGFpbi5zaGlmdCgpKTtcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlO1xufTtcblxuQXhpb3MucHJvdG90eXBlLmdldFVyaSA9IGZ1bmN0aW9uIGdldFVyaShjb25maWcpIHtcbiAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcbiAgcmV0dXJuIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKS5yZXBsYWNlKC9eXFw/LywgJycpO1xufTtcblxuLy8gUHJvdmlkZSBhbGlhc2VzIGZvciBzdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2RzXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ29wdGlvbnMnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybCxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KSk7XG4gIH07XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBeGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBJbnRlcmNlcHRvck1hbmFnZXIoKSB7XG4gIHRoaXMuaGFuZGxlcnMgPSBbXTtcbn1cblxuLyoqXG4gKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVsZmlsbGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHRoZW5gIGZvciBhIGBQcm9taXNlYFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IEFuIElEIHVzZWQgdG8gcmVtb3ZlIGludGVyY2VwdG9yIGxhdGVyXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcbiAgdGhpcy5oYW5kbGVycy5wdXNoKHtcbiAgICBmdWxmaWxsZWQ6IGZ1bGZpbGxlZCxcbiAgICByZWplY3RlZDogcmVqZWN0ZWRcbiAgfSk7XG4gIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbiBpbnRlcmNlcHRvciBmcm9tIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5lamVjdCA9IGZ1bmN0aW9uIGVqZWN0KGlkKSB7XG4gIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuICAgIHRoaXMuaGFuZGxlcnNbaWRdID0gbnVsbDtcbiAgfVxufTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICpcbiAqIFRoaXMgbWV0aG9kIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHNraXBwaW5nIG92ZXIgYW55XG4gKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBpbnRlcmNlcHRvclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoKGZuKSB7XG4gIHV0aWxzLmZvckVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24gZm9yRWFjaEhhbmRsZXIoaCkge1xuICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICBmbihoKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbnRlcmNlcHRvck1hbmFnZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2VuaGFuY2VFcnJvcicpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXBkYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBjb25maWcsIGVycm9yIGNvZGUsIGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJvciBUaGUgZXJyb3IgdG8gdXBkYXRlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgZXJyb3IuY29uZmlnID0gY29uZmlnO1xuICBpZiAoY29kZSkge1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICB9XG5cbiAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIGVycm9yLmlzQXhpb3NFcnJvciA9IHRydWU7XG5cbiAgZXJyb3IudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFN0YW5kYXJkXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAvLyBNaWNyb3NvZnRcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgLy8gQXhpb3NcbiAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICBjb2RlOiB0aGlzLmNvZGVcbiAgICB9O1xuICB9O1xuICByZXR1cm4gZXJyb3I7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gIHV0aWxzLmZvckVhY2goWyd1cmwnLCAnbWV0aG9kJywgJ3BhcmFtcycsICdkYXRhJ10sIGZ1bmN0aW9uIHZhbHVlRnJvbUNvbmZpZzIocHJvcCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICB1dGlscy5mb3JFYWNoKFsnaGVhZGVycycsICdhdXRoJywgJ3Byb3h5J10sIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMocHJvcCkge1xuICAgIGlmICh1dGlscy5pc09iamVjdChjb25maWcyW3Byb3BdKSkge1xuICAgICAgY29uZmlnW3Byb3BdID0gdXRpbHMuZGVlcE1lcmdlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QoY29uZmlnMVtwcm9wXSkpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IHV0aWxzLmRlZXBNZXJnZShjb25maWcxW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcxW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2goW1xuICAgICdiYXNlVVJMJywgJ3RyYW5zZm9ybVJlcXVlc3QnLCAndHJhbnNmb3JtUmVzcG9uc2UnLCAncGFyYW1zU2VyaWFsaXplcicsXG4gICAgJ3RpbWVvdXQnLCAnd2l0aENyZWRlbnRpYWxzJywgJ2FkYXB0ZXInLCAncmVzcG9uc2VUeXBlJywgJ3hzcmZDb29raWVOYW1lJyxcbiAgICAneHNyZkhlYWRlck5hbWUnLCAnb25VcGxvYWRQcm9ncmVzcycsICdvbkRvd25sb2FkUHJvZ3Jlc3MnLCAnbWF4Q29udGVudExlbmd0aCcsXG4gICAgJ3ZhbGlkYXRlU3RhdHVzJywgJ21heFJlZGlyZWN0cycsICdodHRwQWdlbnQnLCAnaHR0cHNBZ2VudCcsICdjYW5jZWxUb2tlbicsXG4gICAgJ3NvY2tldFBhdGgnXG4gIF0sIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIocHJvcCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMVtwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzFbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY29uZmlnO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi9jcmVhdGVFcnJvcicpO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIHZhciB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgaWYgKCF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KGNyZWF0ZUVycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIG51bGwsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGRhdGEgVGhlIGRhdGEgdG8gYmUgdHJhbnNmb3JtZWRcbiAqIEBwYXJhbSB7QXJyYXl9IGhlYWRlcnMgVGhlIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBmbnMpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIHV0aWxzLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICBkYXRhID0gZm4oZGF0YSwgaGVhZGVycyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIG5vcm1hbGl6ZUhlYWRlck5hbWUgPSByZXF1aXJlKCcuL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZScpO1xuXG52YXIgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG4gICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuZnVuY3Rpb24gc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsIHZhbHVlKSB7XG4gIGlmICghdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVycykgJiYgdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pKSB7XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0QWRhcHRlcigpIHtcbiAgdmFyIGFkYXB0ZXI7XG4gIC8vIE9ubHkgTm9kZS5KUyBoYXMgYSBwcm9jZXNzIHZhcmlhYmxlIHRoYXQgaXMgb2YgW1tDbGFzc11dIHByb2Nlc3NcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJykge1xuICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy9odHRwJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEZvciBicm93c2VycyB1c2UgWEhSIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy94aHInKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxudmFyIGRlZmF1bHRzID0ge1xuICBhZGFwdGVyOiBnZXREZWZhdWx0QWRhcHRlcigpLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdBY2NlcHQnKTtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfVxufTtcblxuZGVmYXVsdHMuaGVhZGVycyA9IHtcbiAgY29tbW9uOiB7XG4gICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0gdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdHM7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHZhciBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG5cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gICAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgICB2YXIgY29va2llID0gW107XG4gICAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ3NlY3VyZScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgICAgcmV0dXJuIChtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkgOiBudWxsKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHt9LFxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGRcXCtcXC1cXC5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBoYXZlIGZ1bGwgc3VwcG9ydCBvZiB0aGUgQVBJcyBuZWVkZWQgdG8gdGVzdFxuICAvLyB3aGV0aGVyIHRoZSByZXF1ZXN0IFVSTCBpcyBvZiB0aGUgc2FtZSBvcmlnaW4gYXMgY3VycmVudCBsb2NhdGlvbi5cbiAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgdmFyIHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgdmFyIG9yaWdpblVSTDtcblxuICAgICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCkge1xuICAgICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICAgIH1cblxuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAgICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbihyZXF1ZXN0VVJMKSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgICB9O1xuICAgIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4oKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgbm9ybWFsaXplZE5hbWUpIHtcbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbiBwcm9jZXNzSGVhZGVyKHZhbHVlLCBuYW1lKSB7XG4gICAgaWYgKG5hbWUgIT09IG5vcm1hbGl6ZWROYW1lICYmIG5hbWUudG9VcHBlckNhc2UoKSA9PT0gbm9ybWFsaXplZE5hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgaGVhZGVyc1tub3JtYWxpemVkTmFtZV0gPSB2YWx1ZTtcbiAgICAgIGRlbGV0ZSBoZWFkZXJzW25hbWVdO1xuICAgIH1cbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8vIEhlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG52YXIgaWdub3JlRHVwbGljYXRlT2YgPSBbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrZXk7XG4gIHZhciB2YWw7XG4gIHZhciBpO1xuXG4gIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2YuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gKHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gOiBbXSkuY29uY2F0KFt2YWxdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuICpcbiAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG4gKlxuICogIGBgYGpzXG4gKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG4gKiAgYGBgXG4gKlxuICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG4gKlxuICogIGBgYGpzXG4gKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3ByZWFkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIGlzQnVmZmVyID0gcmVxdWlyZSgnaXMtYnVmZmVyJyk7XG5cbi8qZ2xvYmFsIHRvU3RyaW5nOnRydWUqL1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG4gIHJldHVybiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgJiYgKHZhbCBpbnN0YW5jZW9mIEZvcm1EYXRhKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAodmFsLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRmlsZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQmxvYih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xufVxuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICogbmF0aXZlc2NyaXB0XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ05hdGl2ZVNjcmlwdCcgb3IgJ05TJ1xuICovXG5mdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIChuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTmF0aXZlU2NyaXB0JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTlMnKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ1xuICApO1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbikge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gZXF1YWwgdG8gbWVyZ2Ugd2l0aCB0aGUgZGlmZmVyZW5jZSBiZWluZyB0aGF0IG5vIHJlZmVyZW5jZVxuICogdG8gb3JpZ2luYWwgb2JqZWN0cyBpcyBrZXB0LlxuICpcbiAqIEBzZWUgbWVyZ2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIGRlZXBNZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IGRlZXBNZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IGRlZXBNZXJnZSh7fSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGEsIGIsIHRoaXNBcmcpIHtcbiAgZm9yRWFjaChiLCBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0aGlzQXJnICYmIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBcnJheTogaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICBkZWVwTWVyZ2U6IGRlZXBNZXJnZSxcbiAgZXh0ZW5kOiBleHRlbmQsXG4gIHRyaW06IHRyaW1cbn07XG4iLCIvKiFcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBCdWZmZXJcbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yICE9IG51bGwgJiZcbiAgICB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopXG59XG4iLCIndXNlIHN0cmljdCc7XG52YXIgdG9rZW4gPSAnJVthLWYwLTldezJ9JztcbnZhciBzaW5nbGVNYXRjaGVyID0gbmV3IFJlZ0V4cCh0b2tlbiwgJ2dpJyk7XG52YXIgbXVsdGlNYXRjaGVyID0gbmV3IFJlZ0V4cCgnKCcgKyB0b2tlbiArICcpKycsICdnaScpO1xuXG5mdW5jdGlvbiBkZWNvZGVDb21wb25lbnRzKGNvbXBvbmVudHMsIHNwbGl0KSB7XG5cdHRyeSB7XG5cdFx0Ly8gVHJ5IHRvIGRlY29kZSB0aGUgZW50aXJlIHN0cmluZyBmaXJzdFxuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoY29tcG9uZW50cy5qb2luKCcnKSk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIERvIG5vdGhpbmdcblx0fVxuXG5cdGlmIChjb21wb25lbnRzLmxlbmd0aCA9PT0gMSkge1xuXHRcdHJldHVybiBjb21wb25lbnRzO1xuXHR9XG5cblx0c3BsaXQgPSBzcGxpdCB8fCAxO1xuXG5cdC8vIFNwbGl0IHRoZSBhcnJheSBpbiAyIHBhcnRzXG5cdHZhciBsZWZ0ID0gY29tcG9uZW50cy5zbGljZSgwLCBzcGxpdCk7XG5cdHZhciByaWdodCA9IGNvbXBvbmVudHMuc2xpY2Uoc3BsaXQpO1xuXG5cdHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmNhbGwoW10sIGRlY29kZUNvbXBvbmVudHMobGVmdCksIGRlY29kZUNvbXBvbmVudHMocmlnaHQpKTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChpbnB1dCk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdHZhciB0b2tlbnMgPSBpbnB1dC5tYXRjaChzaW5nbGVNYXRjaGVyKTtcblxuXHRcdGZvciAodmFyIGkgPSAxOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpbnB1dCA9IGRlY29kZUNvbXBvbmVudHModG9rZW5zLCBpKS5qb2luKCcnKTtcblxuXHRcdFx0dG9rZW5zID0gaW5wdXQubWF0Y2goc2luZ2xlTWF0Y2hlcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGlucHV0O1xuXHR9XG59XG5cbmZ1bmN0aW9uIGN1c3RvbURlY29kZVVSSUNvbXBvbmVudChpbnB1dCkge1xuXHQvLyBLZWVwIHRyYWNrIG9mIGFsbCB0aGUgcmVwbGFjZW1lbnRzIGFuZCBwcmVmaWxsIHRoZSBtYXAgd2l0aCB0aGUgYEJPTWBcblx0dmFyIHJlcGxhY2VNYXAgPSB7XG5cdFx0JyVGRSVGRic6ICdcXHVGRkZEXFx1RkZGRCcsXG5cdFx0JyVGRiVGRSc6ICdcXHVGRkZEXFx1RkZGRCdcblx0fTtcblxuXHR2YXIgbWF0Y2ggPSBtdWx0aU1hdGNoZXIuZXhlYyhpbnB1dCk7XG5cdHdoaWxlIChtYXRjaCkge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBEZWNvZGUgYXMgYmlnIGNodW5rcyBhcyBwb3NzaWJsZVxuXHRcdFx0cmVwbGFjZU1hcFttYXRjaFswXV0gPSBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMF0pO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dmFyIHJlc3VsdCA9IGRlY29kZShtYXRjaFswXSk7XG5cblx0XHRcdGlmIChyZXN1bHQgIT09IG1hdGNoWzBdKSB7XG5cdFx0XHRcdHJlcGxhY2VNYXBbbWF0Y2hbMF1dID0gcmVzdWx0O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG1hdGNoID0gbXVsdGlNYXRjaGVyLmV4ZWMoaW5wdXQpO1xuXHR9XG5cblx0Ly8gQWRkIGAlQzJgIGF0IHRoZSBlbmQgb2YgdGhlIG1hcCB0byBtYWtlIHN1cmUgaXQgZG9lcyBub3QgcmVwbGFjZSB0aGUgY29tYmluYXRvciBiZWZvcmUgZXZlcnl0aGluZyBlbHNlXG5cdHJlcGxhY2VNYXBbJyVDMiddID0gJ1xcdUZGRkQnO1xuXG5cdHZhciBlbnRyaWVzID0gT2JqZWN0LmtleXMocmVwbGFjZU1hcCk7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Ly8gUmVwbGFjZSBhbGwgZGVjb2RlZCBjb21wb25lbnRzXG5cdFx0dmFyIGtleSA9IGVudHJpZXNbaV07XG5cdFx0aW5wdXQgPSBpbnB1dC5yZXBsYWNlKG5ldyBSZWdFeHAoa2V5LCAnZycpLCByZXBsYWNlTWFwW2tleV0pO1xuXHR9XG5cblx0cmV0dXJuIGlucHV0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbmNvZGVkVVJJKSB7XG5cdGlmICh0eXBlb2YgZW5jb2RlZFVSSSAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBgZW5jb2RlZFVSSWAgdG8gYmUgb2YgdHlwZSBgc3RyaW5nYCwgZ290IGAnICsgdHlwZW9mIGVuY29kZWRVUkkgKyAnYCcpO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRlbmNvZGVkVVJJID0gZW5jb2RlZFVSSS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcblxuXHRcdC8vIFRyeSB0aGUgYnVpbHQgaW4gZGVjb2RlciBmaXJzdFxuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZW5jb2RlZFVSSSk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIEZhbGxiYWNrIHRvIGEgbW9yZSBhZHZhbmNlZCBkZWNvZGVyXG5cdFx0cmV0dXJuIGN1c3RvbURlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkVVJJKTtcblx0fVxufTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIndXNlIHN0cmljdCc7XG5jb25zdCBzdHJpY3RVcmlFbmNvZGUgPSByZXF1aXJlKCdzdHJpY3QtdXJpLWVuY29kZScpO1xuY29uc3QgZGVjb2RlQ29tcG9uZW50ID0gcmVxdWlyZSgnZGVjb2RlLXVyaS1jb21wb25lbnQnKTtcbmNvbnN0IHNwbGl0T25GaXJzdCA9IHJlcXVpcmUoJ3NwbGl0LW9uLWZpcnN0Jyk7XG5cbmZ1bmN0aW9uIGVuY29kZXJGb3JBcnJheUZvcm1hdChvcHRpb25zKSB7XG5cdHN3aXRjaCAob3B0aW9ucy5hcnJheUZvcm1hdCkge1xuXHRcdGNhc2UgJ2luZGV4Jzpcblx0XHRcdHJldHVybiBrZXkgPT4gKHJlc3VsdCwgdmFsdWUpID0+IHtcblx0XHRcdFx0Y29uc3QgaW5kZXggPSByZXN1bHQubGVuZ3RoO1xuXHRcdFx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodmFsdWUgPT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gWy4uLnJlc3VsdCwgW2VuY29kZShrZXksIG9wdGlvbnMpLCAnWycsIGluZGV4LCAnXSddLmpvaW4oJycpXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0Li4ucmVzdWx0LFxuXHRcdFx0XHRcdFtlbmNvZGUoa2V5LCBvcHRpb25zKSwgJ1snLCBlbmNvZGUoaW5kZXgsIG9wdGlvbnMpLCAnXT0nLCBlbmNvZGUodmFsdWUsIG9wdGlvbnMpXS5qb2luKCcnKVxuXHRcdFx0XHRdO1xuXHRcdFx0fTtcblxuXHRcdGNhc2UgJ2JyYWNrZXQnOlxuXHRcdFx0cmV0dXJuIGtleSA9PiAocmVzdWx0LCB2YWx1ZSkgPT4ge1xuXHRcdFx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodmFsdWUgPT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gWy4uLnJlc3VsdCwgW2VuY29kZShrZXksIG9wdGlvbnMpLCAnW10nXS5qb2luKCcnKV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gWy4uLnJlc3VsdCwgW2VuY29kZShrZXksIG9wdGlvbnMpLCAnW109JywgZW5jb2RlKHZhbHVlLCBvcHRpb25zKV0uam9pbignJyldO1xuXHRcdFx0fTtcblxuXHRcdGNhc2UgJ2NvbW1hJzpcblx0XHRcdHJldHVybiBrZXkgPT4gKHJlc3VsdCwgdmFsdWUsIGluZGV4KSA9PiB7XG5cdFx0XHRcdGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaW5kZXggPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm4gW1tlbmNvZGUoa2V5LCBvcHRpb25zKSwgJz0nLCBlbmNvZGUodmFsdWUsIG9wdGlvbnMpXS5qb2luKCcnKV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gW1tyZXN1bHQsIGVuY29kZSh2YWx1ZSwgb3B0aW9ucyldLmpvaW4oJywnKV07XG5cdFx0XHR9O1xuXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBrZXkgPT4gKHJlc3VsdCwgdmFsdWUpID0+IHtcblx0XHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHZhbHVlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFsuLi5yZXN1bHQsIGVuY29kZShrZXksIG9wdGlvbnMpXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBbLi4ucmVzdWx0LCBbZW5jb2RlKGtleSwgb3B0aW9ucyksICc9JywgZW5jb2RlKHZhbHVlLCBvcHRpb25zKV0uam9pbignJyldO1xuXHRcdFx0fTtcblx0fVxufVxuXG5mdW5jdGlvbiBwYXJzZXJGb3JBcnJheUZvcm1hdChvcHRpb25zKSB7XG5cdGxldCByZXN1bHQ7XG5cblx0c3dpdGNoIChvcHRpb25zLmFycmF5Rm9ybWF0KSB7XG5cdFx0Y2FzZSAnaW5kZXgnOlxuXHRcdFx0cmV0dXJuIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikgPT4ge1xuXHRcdFx0XHRyZXN1bHQgPSAvXFxbKFxcZCopXFxdJC8uZXhlYyhrZXkpO1xuXG5cdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFtcXGQqXFxdJC8sICcnKTtcblxuXHRcdFx0XHRpZiAoIXJlc3VsdCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYWNjdW11bGF0b3Jba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHt9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XVtyZXN1bHRbMV1dID0gdmFsdWU7XG5cdFx0XHR9O1xuXG5cdFx0Y2FzZSAnYnJhY2tldCc6XG5cdFx0XHRyZXR1cm4gKGtleSwgdmFsdWUsIGFjY3VtdWxhdG9yKSA9PiB7XG5cdFx0XHRcdHJlc3VsdCA9IC8oXFxbXFxdKSQvLmV4ZWMoa2V5KTtcblx0XHRcdFx0a2V5ID0ga2V5LnJlcGxhY2UoL1xcW1xcXSQvLCAnJyk7XG5cblx0XHRcdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbdmFsdWVdO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbXS5jb25jYXQoYWNjdW11bGF0b3Jba2V5XSwgdmFsdWUpO1xuXHRcdFx0fTtcblxuXHRcdGNhc2UgJ2NvbW1hJzpcblx0XHRcdHJldHVybiAoa2V5LCB2YWx1ZSwgYWNjdW11bGF0b3IpID0+IHtcblx0XHRcdFx0Y29uc3QgaXNBcnJheSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUuc3BsaXQoJycpLmluZGV4T2YoJywnKSA+IC0xO1xuXHRcdFx0XHRjb25zdCBuZXdWYWx1ZSA9IGlzQXJyYXkgPyB2YWx1ZS5zcGxpdCgnLCcpIDogdmFsdWU7XG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBuZXdWYWx1ZTtcblx0XHRcdH07XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikgPT4ge1xuXHRcdFx0XHRpZiAoYWNjdW11bGF0b3Jba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHZhbHVlO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbXS5jb25jYXQoYWNjdW11bGF0b3Jba2V5XSwgdmFsdWUpO1xuXHRcdFx0fTtcblx0fVxufVxuXG5mdW5jdGlvbiBlbmNvZGUodmFsdWUsIG9wdGlvbnMpIHtcblx0aWYgKG9wdGlvbnMuZW5jb2RlKSB7XG5cdFx0cmV0dXJuIG9wdGlvbnMuc3RyaWN0ID8gc3RyaWN0VXJpRW5jb2RlKHZhbHVlKSA6IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG5cdH1cblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGRlY29kZSh2YWx1ZSwgb3B0aW9ucykge1xuXHRpZiAob3B0aW9ucy5kZWNvZGUpIHtcblx0XHRyZXR1cm4gZGVjb2RlQ29tcG9uZW50KHZhbHVlKTtcblx0fVxuXG5cdHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24ga2V5c1NvcnRlcihpbnB1dCkge1xuXHRpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcblx0XHRyZXR1cm4gaW5wdXQuc29ydCgpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcpIHtcblx0XHRyZXR1cm4ga2V5c1NvcnRlcihPYmplY3Qua2V5cyhpbnB1dCkpXG5cdFx0XHQuc29ydCgoYSwgYikgPT4gTnVtYmVyKGEpIC0gTnVtYmVyKGIpKVxuXHRcdFx0Lm1hcChrZXkgPT4gaW5wdXRba2V5XSk7XG5cdH1cblxuXHRyZXR1cm4gaW5wdXQ7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUhhc2goaW5wdXQpIHtcblx0Y29uc3QgaGFzaFN0YXJ0ID0gaW5wdXQuaW5kZXhPZignIycpO1xuXHRpZiAoaGFzaFN0YXJ0ICE9PSAtMSkge1xuXHRcdGlucHV0ID0gaW5wdXQuc2xpY2UoMCwgaGFzaFN0YXJ0KTtcblx0fVxuXG5cdHJldHVybiBpbnB1dDtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdChpbnB1dCkge1xuXHRpbnB1dCA9IHJlbW92ZUhhc2goaW5wdXQpO1xuXHRjb25zdCBxdWVyeVN0YXJ0ID0gaW5wdXQuaW5kZXhPZignPycpO1xuXHRpZiAocXVlcnlTdGFydCA9PT0gLTEpIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cblxuXHRyZXR1cm4gaW5wdXQuc2xpY2UocXVlcnlTdGFydCArIDEpO1xufVxuXG5mdW5jdGlvbiBwYXJzZShpbnB1dCwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0ZGVjb2RlOiB0cnVlLFxuXHRcdHNvcnQ6IHRydWUsXG5cdFx0YXJyYXlGb3JtYXQ6ICdub25lJyxcblx0XHRwYXJzZU51bWJlcnM6IGZhbHNlLFxuXHRcdHBhcnNlQm9vbGVhbnM6IGZhbHNlXG5cdH0sIG9wdGlvbnMpO1xuXG5cdGNvbnN0IGZvcm1hdHRlciA9IHBhcnNlckZvckFycmF5Rm9ybWF0KG9wdGlvbnMpO1xuXG5cdC8vIENyZWF0ZSBhbiBvYmplY3Qgd2l0aCBubyBwcm90b3R5cGVcblx0Y29uc3QgcmV0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuXHRpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybiByZXQ7XG5cdH1cblxuXHRpbnB1dCA9IGlucHV0LnRyaW0oKS5yZXBsYWNlKC9eWz8jJl0vLCAnJyk7XG5cblx0aWYgKCFpbnB1dCkge1xuXHRcdHJldHVybiByZXQ7XG5cdH1cblxuXHRmb3IgKGNvbnN0IHBhcmFtIG9mIGlucHV0LnNwbGl0KCcmJykpIHtcblx0XHRsZXQgW2tleSwgdmFsdWVdID0gc3BsaXRPbkZpcnN0KHBhcmFtLnJlcGxhY2UoL1xcKy9nLCAnICcpLCAnPScpO1xuXG5cdFx0Ly8gTWlzc2luZyBgPWAgc2hvdWxkIGJlIGBudWxsYDpcblx0XHQvLyBodHRwOi8vdzMub3JnL1RSLzIwMTIvV0QtdXJsLTIwMTIwNTI0LyNjb2xsZWN0LXVybC1wYXJhbWV0ZXJzXG5cdFx0dmFsdWUgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGRlY29kZSh2YWx1ZSwgb3B0aW9ucyk7XG5cblx0XHRpZiAob3B0aW9ucy5wYXJzZU51bWJlcnMgJiYgIU51bWJlci5pc05hTihOdW1iZXIodmFsdWUpKSkge1xuXHRcdFx0dmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuXHRcdH0gZWxzZSBpZiAob3B0aW9ucy5wYXJzZUJvb2xlYW5zICYmIHZhbHVlICE9PSBudWxsICYmICh2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgfHwgdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJykpIHtcblx0XHRcdHZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuXHRcdH1cblxuXHRcdGZvcm1hdHRlcihkZWNvZGUoa2V5LCBvcHRpb25zKSwgdmFsdWUsIHJldCk7XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zb3J0ID09PSBmYWxzZSkge1xuXHRcdHJldHVybiByZXQ7XG5cdH1cblxuXHRyZXR1cm4gKG9wdGlvbnMuc29ydCA9PT0gdHJ1ZSA/IE9iamVjdC5rZXlzKHJldCkuc29ydCgpIDogT2JqZWN0LmtleXMocmV0KS5zb3J0KG9wdGlvbnMuc29ydCkpLnJlZHVjZSgocmVzdWx0LCBrZXkpID0+IHtcblx0XHRjb25zdCB2YWx1ZSA9IHJldFtrZXldO1xuXHRcdGlmIChCb29sZWFuKHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0Ly8gU29ydCBvYmplY3Qga2V5cywgbm90IHZhbHVlc1xuXHRcdFx0cmVzdWx0W2tleV0gPSBrZXlzU29ydGVyKHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0W2tleV0gPSB2YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbn1cblxuZXhwb3J0cy5leHRyYWN0ID0gZXh0cmFjdDtcbmV4cG9ydHMucGFyc2UgPSBwYXJzZTtcblxuZXhwb3J0cy5zdHJpbmdpZnkgPSAob2JqZWN0LCBvcHRpb25zKSA9PiB7XG5cdGlmICghb2JqZWN0KSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0b3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuXHRcdGVuY29kZTogdHJ1ZSxcblx0XHRzdHJpY3Q6IHRydWUsXG5cdFx0YXJyYXlGb3JtYXQ6ICdub25lJ1xuXHR9LCBvcHRpb25zKTtcblxuXHRjb25zdCBmb3JtYXR0ZXIgPSBlbmNvZGVyRm9yQXJyYXlGb3JtYXQob3B0aW9ucyk7XG5cdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG5cdGlmIChvcHRpb25zLnNvcnQgIT09IGZhbHNlKSB7XG5cdFx0a2V5cy5zb3J0KG9wdGlvbnMuc29ydCk7XG5cdH1cblxuXHRyZXR1cm4ga2V5cy5tYXAoa2V5ID0+IHtcblx0XHRjb25zdCB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG5cdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiAnJztcblx0XHR9XG5cblx0XHRpZiAodmFsdWUgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiBlbmNvZGUoa2V5LCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRcdHJldHVybiB2YWx1ZVxuXHRcdFx0XHQucmVkdWNlKGZvcm1hdHRlcihrZXkpLCBbXSlcblx0XHRcdFx0LmpvaW4oJyYnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZW5jb2RlKGtleSwgb3B0aW9ucykgKyAnPScgKyBlbmNvZGUodmFsdWUsIG9wdGlvbnMpO1xuXHR9KS5maWx0ZXIoeCA9PiB4Lmxlbmd0aCA+IDApLmpvaW4oJyYnKTtcbn07XG5cbmV4cG9ydHMucGFyc2VVcmwgPSAoaW5wdXQsIG9wdGlvbnMpID0+IHtcblx0cmV0dXJuIHtcblx0XHR1cmw6IHJlbW92ZUhhc2goaW5wdXQpLnNwbGl0KCc/JylbMF0gfHwgJycsXG5cdFx0cXVlcnk6IHBhcnNlKGV4dHJhY3QoaW5wdXQpLCBvcHRpb25zKVxuXHR9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSAoc3RyaW5nLCBzZXBhcmF0b3IpID0+IHtcblx0aWYgKCEodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHNlcGFyYXRvciA9PT0gJ3N0cmluZycpKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdGhlIGFyZ3VtZW50cyB0byBiZSBvZiB0eXBlIGBzdHJpbmdgJyk7XG5cdH1cblxuXHRpZiAoc2VwYXJhdG9yID09PSAnJykge1xuXHRcdHJldHVybiBbc3RyaW5nXTtcblx0fVxuXG5cdGNvbnN0IHNlcGFyYXRvckluZGV4ID0gc3RyaW5nLmluZGV4T2Yoc2VwYXJhdG9yKTtcblxuXHRpZiAoc2VwYXJhdG9ySW5kZXggPT09IC0xKSB7XG5cdFx0cmV0dXJuIFtzdHJpbmddO1xuXHR9XG5cblx0cmV0dXJuIFtcblx0XHRzdHJpbmcuc2xpY2UoMCwgc2VwYXJhdG9ySW5kZXgpLFxuXHRcdHN0cmluZy5zbGljZShzZXBhcmF0b3JJbmRleCArIHNlcGFyYXRvci5sZW5ndGgpXG5cdF07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBzdHIgPT4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvWyEnKCkqXS9nLCB4ID0+IGAlJHt4LmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9YCk7XG4iLCJpbXBvcnQgUXVlcnlCdWlsZGVyIGZyb20gJy4vanMvUXVlcnlCdWlsZGVyJztcbmltcG9ydCBEYXRhc291cmNlQmFzZSBmcm9tICcuL2pzL0RhdGFzb3VyY2VCYXNlJztcbmltcG9ydCBBamF4RGF0YXNvdXJjZSBmcm9tICcuL2pzL0FqYXhEYXRhc291cmNlJztcbmltcG9ydCBBcnJheURhdGFzb3VyY2UgZnJvbSAnLi9qcy9BcnJheURhdGFzb3VyY2UnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIFF1ZXJ5QnVpbGRlcixcbiAgRGF0YXNvdXJjZUJhc2UsXG4gIEFqYXhEYXRhc291cmNlLFxuICBBcnJheURhdGFzb3VyY2UsXG59O1xuIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBEYXRhc291cmNlQmFzZSBmcm9tICcuL0RhdGFzb3VyY2VCYXNlJztcbmltcG9ydCBRdWVyeUJ1aWxkZXIgZnJvbSAnLi9RdWVyeUJ1aWxkZXInO1xuXG5jbGFzcyBBamF4RGF0YXNvdXJjZSBleHRlbmRzIERhdGFzb3VyY2VCYXNlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IHsgYWpheCB9ID0gb3B0aW9ucztcbiAgICBpZiAoYWpheCAmJiB0eXBlb2YgYWpheCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGFqYXggPSB7XG4gICAgICAgIC4uLkFqYXhEYXRhc291cmNlLnByb3RvdHlwZS5kZWZhdWx0cy5hamF4LFxuICAgICAgICAuLi5hamF4LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgICAgLi4uQWpheERhdGFzb3VyY2UucHJvdG90eXBlLmRlZmF1bHRzLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGFqYXgsXG4gICAgfTtcblxuICAgIHN1cGVyKG1lcmdlZE9wdGlvbnMpO1xuXG4gICAgdGhpcy5fdG90YWwgPSBudWxsO1xuICAgIHRoaXMuX2RhdGEgPSBudWxsO1xuICAgIGlmIChtZXJnZWRPcHRpb25zLnF1ZXJ5QnVpbGRlciBpbnN0YW5jZW9mIFF1ZXJ5QnVpbGRlcikge1xuICAgICAgdGhpcy5xdWVyeUJ1aWxkZXIgPSBtZXJnZWRPcHRpb25zLnF1ZXJ5QnVpbGRlcjtcbiAgICB9IGVsc2UgaWYgKG1lcmdlZE9wdGlvbnMucXVlcnlCdWlsZGVyKSB7XG4gICAgICB0aGlzLnF1ZXJ5QnVpbGRlciA9IG5ldyBRdWVyeUJ1aWxkZXIobWVyZ2VkT3B0aW9ucy5xdWVyeUJ1aWxkZXIpO1xuICAgIH1cbiAgICB0aGlzLmFqYXggPSBtZXJnZWRPcHRpb25zLmFqYXg7XG4gIH1cblxuICAvKipcbiAgICAgKiBQZXJmb3JtcyBhbiBBSkFYIGNhbGwuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBVcmwgdG8gcmVtb3RlIGVuZHBvaW50IHRvIGFqYXggZm9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgVGhlIEFKQVggbWV0aG9kLlxuICAgICAqL1xuICBfYWpheENhbGwodXJsLCBtZXRob2QpIHtcbiAgICBjb25zdCBhY3R1YWxNZXRob2QgPSBtZXRob2QgPyBtZXRob2QudG9Mb3dlckNhc2UoKSA6IG1ldGhvZDtcbiAgICBsZXQgZGF0YSA9IHt9O1xuICAgIGxldCBhY3R1YWxVcmwgPSB1cmw7XG5cbiAgICBpZiAoYWN0dWFsTWV0aG9kID09PSAnZ2V0Jykge1xuICAgICAgYWN0dWFsVXJsID0gYCR7YWN0dWFsVXJsfT8ke3RoaXMucXVlcnlCdWlsZGVyLmdldFF1ZXJ5U3RyaW5nKHRoaXMpfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEgPSB0aGlzLnF1ZXJ5QnVpbGRlci5nZXRRdWVyeU9iamVjdCh0aGlzKTtcbiAgICB9XG4gICAgY29uc3QgYXhpb3NPcHRpb25zID0gdGhpcy5hamF4Lm9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIGF4aW9zKHtcbiAgICAgIC4uLmF4aW9zT3B0aW9ucyxcbiAgICAgIG1ldGhvZDogYWN0dWFsTWV0aG9kLFxuICAgICAgdXJsOiBhY3R1YWxVcmwsXG4gICAgICBkYXRhLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAgICogQnVpbGRzIGFuIEFKQVggaGFuZGxlciBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ3xvYmplY3R9IGFqYXggQ2FuIGJlIGVpdGhlciBhOlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENhbGxiYWNrIGZ1bmN0aW9uLCB0YWtpbmcgaW4gYVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5IGJ1aWxkZXIgb2JqZWN0LCBhbmQgcmV0dXJuaW5nXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYSBwcm9taXNlIG9iamVjdC5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBBIHN0cmluZyB3aGljaCBpcyB0aGUgVVJMIHRvIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZSBlbmRwb2ludFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEFuIGFqYXggb2JqZWN0IG9mIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFN0cmluZyxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogU3RyaW5nLCAvLyAnZ2V0JyBvciAncG9zdCdcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHBlcjogRnVuY3Rpb24sXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBPYmplY3RcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAqL1xuICBfYnVpbGRBamF4SGFuZGxlcigpIHtcbiAgICBjb25zdCBhamF4SGFuZGxlciA9IHtcbiAgICAgIGZ1bmN0aW9uOiAoKSA9PiB0aGlzLmFqYXguY2FsbCh0aGlzLCB0aGlzLnF1ZXJ5QnVpbGRlciksXG4gICAgICBzdHJpbmc6ICgpID0+IHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5hamF4O1xuICAgICAgICByZXR1cm4gdGhpcy5fYWpheENhbGwodXJsLCAnZ2V0Jyk7XG4gICAgICB9LFxuICAgICAgb2JqZWN0OiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdXJsIH0gPSB0aGlzLmFqYXg7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMuYWpheC5tZXRob2QgfHwgJ2dldCc7XG4gICAgICAgIHJldHVybiB0aGlzLl9hamF4Q2FsbCh1cmwsIG1ldGhvZCk7XG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgYWpheE9iamVjdFR5cGUgPSB0eXBlb2YgdGhpcy5hamF4O1xuICAgIGNvbnN0IGFjdHVhbEFqYXhIYW5kbGVyID0gYWpheEhhbmRsZXJbYWpheE9iamVjdFR5cGVdO1xuICAgIGlmICghYWN0dWFsQWpheEhhbmRsZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRG9lcyBub3Qgc3VwcG9ydCBwcm92aWRlZCBhamF4IG9iamVjdCBvZiB0eXBlICR7YWpheE9iamVjdFR5cGV9YCk7XG4gICAgfVxuICAgIHJldHVybiBhY3R1YWxBamF4SGFuZGxlcjtcbiAgfVxuXG4gIC8qKlxuICAgICAqIE92ZXJyaWRlcyBmb3IgRGF0YXNvdXJjZUJhc2VcbiAgICAgKi9cblxuICAvKipcbiAgICAgKiBAaW5oZXJpdGRvY1xuICAgICAqL1xuICBnZXQgdG90YWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RvdGFsO1xuICB9XG5cbiAgLyoqXG4gICAgICogQGluaGVyaXRkb2NcbiAgICAgKi9cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gIH1cblxuICAvKipcbiAgICAgKiBAaW5oZXJpdGRvY1xuICAgICAqL1xuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgYWpheEhhbmRsZXIgPSB0aGlzLl9idWlsZEFqYXhIYW5kbGVyKCk7XG4gICAgcmV0dXJuIGFqYXhIYW5kbGVyLmNhbGwodGhpcykudGhlbigoLi4ucmVzcG9uc2VzKSA9PiB7XG4gICAgICAvLyBJZiBub3QgcHJvdmlkZWQgYW4gb2JqZWN0LCB1c2UgdGhlIGRlZmF1bHQgbWFwcGVyXG4gICAgICBjb25zdCBtYXBwZXIgPSB0aGlzLmFqYXgubWFwcGVyIHx8IEFqYXhEYXRhc291cmNlLnByb3RvdHlwZS5kZWZhdWx0cy5hamF4Lm1hcHBlcjtcbiAgICAgIGNvbnN0IG1hcHBlZE9iamVjdCA9IG1hcHBlci5hcHBseSh0aGlzLCByZXNwb25zZXMpO1xuICAgICAgdGhpcy5fZGF0YSA9IG1hcHBlZE9iamVjdC5kYXRhO1xuICAgICAgdGhpcy5fdG90YWwgPSBtYXBwZWRPYmplY3QudG90YWw7XG4gICAgfSk7XG4gIH1cbn1cblxuQWpheERhdGFzb3VyY2UucHJvdG90eXBlLmRlZmF1bHRzID0ge1xuICBxdWVyeUJ1aWxkZXI6IHt9LFxuICAvLyBhamF4IGNhbiBiZSBhbiBvYmplY3QsIGZ1bmN0aW9uLCBvciBldmVuIGEgc2ltcGxlIHN0cmluZ1xuICBhamF4OiB7XG4gICAgLy8gQWRkaXRpb25hbCBvcHRpb25zIGZvciBheGlvc1xuICAgIG9wdGlvbnM6IHt9LFxuICAgIC8vIE1hcHMgdGhlIHJlc3BvbnNlIHRvIHJldHVybiB0aGUgZGF0YSBpbiBhbiBleHBlY3RlZCBmb3JtYXRcbiAgICBtYXBwZXIocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlLmRhdGEsXG4gICAgICAgIHRvdGFsOiByZXNwb25zZS50b3RhbCxcbiAgICAgIH07XG4gICAgfSxcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFqYXhEYXRhc291cmNlO1xuIiwiaW1wb3J0IERhdGFzb3VyY2VCYXNlIGZyb20gJy4vRGF0YXNvdXJjZUJhc2UnO1xuXG5jbGFzcyBBcnJheURhdGFzb3VyY2UgZXh0ZW5kcyBEYXRhc291cmNlQmFzZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7XG4gICAgICAuLi5BcnJheURhdGFzb3VyY2UucHJvdG90eXBlLmRlZmF1bHRzLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICB9O1xuICAgIHN1cGVyKG1lcmdlZE9wdGlvbnMpO1xuICAgIHRoaXMuX3Jhd0RhdGEgPSBtZXJnZWRPcHRpb25zLmRhdGE7XG4gICAgdGhpcy5fc2VhcmNoID0gbWVyZ2VkT3B0aW9ucy5zZWFyY2g7XG4gICAgdGhpcy5fc29ydCA9IG1lcmdlZE9wdGlvbnMuc29ydDtcbiAgICB0aGlzLl9kYXRhID0gbnVsbDtcbiAgICB0aGlzLl9wcm9jZXNzZWREYXRhID0gbnVsbDtcbiAgfVxuXG4gIF9nZXRQcm9jZXNzZWREYXRhKCkge1xuICAgIGxldCBwcm9jZXNzZWREYXRhID0gdGhpcy5fcmF3RGF0YTtcbiAgICBpZiAodGhpcy5zZWFyY2hUZXh0KSB7XG4gICAgICBwcm9jZXNzZWREYXRhID0gdGhpcy5fc2VhcmNoLmNhbGwodGhpcywgcHJvY2Vzc2VkRGF0YSwgdGhpcy5zZWFyY2hUZXh0KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3NvcnQpIHtcbiAgICAgIHByb2Nlc3NlZERhdGEgPSB0aGlzLl9zb3J0LmNhbGwodGhpcywgcHJvY2Vzc2VkRGF0YSwgdGhpcy5zb3J0RmllbGQsIHRoaXMuc29ydERpcmVjdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBwcm9jZXNzZWREYXRhO1xuICB9XG5cbiAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGZvciBEYXRhc291cmNlQmFzZVxuICAgICAqL1xuXG4gIC8qKlxuICAgICAqIEBpbmhlcml0ZG9jXG4gICAgICovXG4gIGdldCB0b3RhbCgpIHtcbiAgICBpZiAodGhpcy5fcHJvY2Vzc2VkRGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3NlZERhdGEubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAodGhpcy5fcmF3RGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Jhd0RhdGEubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIC8qKlxuICAgICAqIEBpbmhlcml0ZG9jXG4gICAgICovXG4gIGdldCBkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICB9XG5cbiAgLyoqXG4gICAgICogQGluaGVyaXRkb2NcbiAgICAgKi9cbiAgdXBkYXRlKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX3Jhd0RhdGEpIHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLl9wcm9jZXNzZWREYXRhID0gdGhpcy5fZ2V0UHJvY2Vzc2VkRGF0YSgpO1xuICAgICAgICB0aGlzLl9kYXRhID0gdGhpcy5fcHJvY2Vzc2VkRGF0YS5zbGljZSh0aGlzLm9mZnNldCwgdGhpcy5vZmZzZXQgKyB0aGlzLnNpemUpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbkFycmF5RGF0YXNvdXJjZS5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gIGRhdGE6IG51bGwsXG4gIHNlYXJjaChkYXRhKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0sXG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4gIHNvcnQoZGF0YSwgZmllbGROYW1lLCBkaXJlY3Rpb24pIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfSxcbiAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtdmFycyAqL1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXJyYXlEYXRhc291cmNlO1xuIiwiLyoqXG4gKiBEYXRhc291cmNlQmFzZSByZXByZXNlbnRzIGFuIGFic3RyYWN0XG4gKiBjbGFzcyBmb3IgZGVyaXZlZCBkYXRhc291cmNlIGNsYXNzZXNcbiAqIHRvIHVzZSB0byByZXByZXNlbnQgY29yZSBjb2xsZWN0aW9uc1xuICogb2YgZGF0YS5cbiAqXG4gKiBJdCBwcm92aWRlcyBhZGRpdGlvbmFsIGZlYXR1cmVzIHN1Y2hcbiAqIGFzIHBhZ2luYXRpb24sIHNvcnRpbmcsIGV0Yy5cbiAqL1xuY2xhc3MgRGF0YXNvdXJjZUJhc2Uge1xuICAvKipcbiAgICAgKiBDcmVhdGUgYSBkYXRhc291cmNlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gVGhlIGRhdGFzb3VyY2Ugb3B0aW9ucy5cbiAgICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHtcbiAgICAgIC4uLkRhdGFzb3VyY2VCYXNlLnByb3RvdHlwZS5kZWZhdWx0cyxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfTtcbiAgICB0aGlzLm9mZnNldCA9IG1lcmdlZE9wdGlvbnMub2Zmc2V0O1xuICAgIHRoaXMuc2l6ZSA9IG1lcmdlZE9wdGlvbnMuc2l6ZTtcbiAgICB0aGlzLnNlYXJjaFRleHQgPSBtZXJnZWRPcHRpb25zLnNlYXJjaFRleHQ7XG4gICAgdGhpcy5zb3J0RmllbGQgPSBudWxsO1xuICAgIHRoaXMuc29ydERpcmVjdGlvbiA9IG51bGw7XG5cbiAgICBpZiAobWVyZ2VkT3B0aW9ucy5wYWdlKSB7XG4gICAgICB0aGlzLnBhZ2UgPSBtZXJnZWRPcHRpb25zLnBhZ2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAgICogT3ZlcnJpZGFibGVzXG4gICAgICovXG5cbiAgLyoqXG4gICAgICogR2V0cyB0aGUgY3VycmVudCBzZXQgb2YgZGF0YSB0aGUgZGF0YXNvdXJjZVxuICAgICAqIGhhcywgYmFzZWQgb24gcGFnaW5hdGlvbiwgc29ydGluZywgYW5kIGZpbHRlcmluZy5cbiAgICAgKiBAcmV0dXJuIHtudWxsfEFycmF5fSBUaGUgYXJyYXkgb2YgZGF0YSBpdGVtcy5cbiAgICAgKi9cbiAgZ2V0IGRhdGEoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBHZXR0ZXIgbm90IHN1cHBvcnRlZCBmb3IgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG4gIH1cblxuICAvKipcbiAgICAgKiBHZXRzIHRoZSB0b3RhbCBhbW91bnQgb2YgZGF0YSBpdGVtcyBhdmFpbGFibGVcbiAgICAgKiBmb3IgdGhlIGRhdGFzb3VyY2UgdG8gcGFnZSB0aHJvdWdoLlxuICAgICAqIEByZXR1cm4ge251bGx8QXJyYXl9IFRoZSBhcnJheSBvZiBkYXRhIGl0ZW1zLlxuICAgICAqL1xuICBnZXQgdG90YWwoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBHZXR0ZXIgbm90IHN1cHBvcnRlZCBmb3IgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG4gIH1cblxuICAvKipcbiAgICAgKiBHZXRzIHRoZSB0b3RhbCBhbW91bnQgb2YgZGF0YSBpdGVtcyBmb3IgdGhlIGN1cnJlbnQgcGFnZS5cbiAgICAgKiBAcmV0dXJuIHtudWxsfEFycmF5fSBUaGUgYXJyYXkgb2YgZGF0YSBpdGVtcy5cbiAgICAgKi9cbiAgZ2V0IHBhZ2VUb3RhbCgpIHtcbiAgICBpZiAodGhpcy5vZmZzZXQgPT09IHRoaXMudG90YWwpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCBpdGVtc1JlbWFpbmluZyA9IHRoaXMudG90YWwgLSB0aGlzLm9mZnNldDtcbiAgICBpZiAoaXRlbXNSZW1haW5pbmcgPD0gdGhpcy5zaXplKSB7XG4gICAgICByZXR1cm4gaXRlbXNSZW1haW5pbmc7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNpemU7XG4gIH1cblxuICAvKipcbiAgICAqIFVwZGF0ZXMgdGhlIGRhdGFzb3VyY2UsIHVzaW5nIHRoZSBjdXJyZW50bHlcbiAgICAqIGNvbmZpZ3VyZWQgc2VhcmNoIHRleHQsIHNvcnQgc2V0dGluZ3MsIGFuZFxuICAgICogcGFnaW5hdGlvbiBvcHRpb25zLlxuICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIG9iamVjdCwgcmVzb2x2ZWQgd2hlbiB0aGUgdXBkYXRlIGlzIGNvbXBsZXRlZC5cbiAgICAqL1xuICB1cGRhdGUoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBNZXRob2Qgbm90IHN1cHBvcnRlZCBmb3IgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG4gIH1cblxuICAvKipcbiAgICAgKiBUcmF2ZXJzZSB0byB0aGUgc3BlY2lmaWVkIHBhZ2UsIGFuZCB1cGRhdGUgdGhlIGRhdGFzb3VyY2UgYWNjb3JkaW5nbHkuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBwYWdlTnVtIC0gVGhlIG5ldyBwYWdlIHRvIHRyYXZlcnNlIHRvLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB3aXRoIGEgYm9vbGVhbiBkYXRhLiBUcnVlIGlmXG4gICAgICogICAgICAgICAgICAgICAgICAgc3VjY2Vzc2Z1bGx5IHRyYXZlcnNlZCB0byBzcGVjaWZpZWQgcGFnZS5cbiAgICAgKiAgICAgICAgICAgICAgICAgICBGYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gIGdvVG9QYWdlKHBhZ2VOdW0pIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHBhZ2VOdW0gPj0gMCAmJiBwYWdlTnVtIDw9IHRoaXMudG90YWxQYWdlcykge1xuICAgICAgICAgIHRoaXMucGFnZSA9IHBhZ2VOdW07XG4gICAgICAgICAgdGhpcy51cGRhdGUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICAgKiBHZXR0ZXJzICYgU2V0dGVyc1xuICAgICAqL1xuXG4gIC8qKlxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgcGFnZSB0aGUgZGF0YXNvdXJjZSBpc1xuICAgICAqIGN1cnJlbnRseSBzZXQgdG8uXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgY3VycmVudCBwYWdlIG51bWJlci5cbiAgICAgKi9cbiAgZ2V0IHBhZ2UoKSB7XG4gICAgcmV0dXJuICh0aGlzLm9mZnNldCArIHRoaXMuc2l6ZSkgLyB0aGlzLnNpemU7XG4gIH1cblxuICAvKipcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG5ld1BhZ2UgLSBUaGUgbmV3IHBhZ2UgdG8gc2V0IHRvLlxuICAgICAqL1xuICBzZXQgcGFnZShuZXdQYWdlKSB7XG4gICAgdGhpcy5vZmZzZXQgPSBuZXdQYWdlICogdGhpcy5zaXplIC0gdGhpcy5zaXplO1xuICB9XG5cbiAgLyoqXG4gICAgICogQm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIGl0J3MgdGhlIGZpcnN0IHBhZ2Ugb3Igbm90LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgaXRzIHRoZSBmaXJzdCBwYWdlIG9yIG5vdC5cbiAgICAgKi9cbiAgZ2V0IGlzRmlyc3RQYWdlKCkge1xuICAgIGlmICh0aGlzLnBhZ2UgPD0gMSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgICAqIEJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciBpdCdzIHRoZSBsYXN0IHBhZ2Ugb3Igbm90LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgaXRzIHRoZSBsYXN0IHBhZ2Ugb3Igbm90LlxuICAgICAqL1xuICBnZXQgaXNMYXN0UGFnZSgpIHtcbiAgICBpZiAodGhpcy5wYWdlID49IHRoaXMudG90YWxQYWdlcykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgICAqIFRoZSB0b3RhbCBhbW91bnQgb2YgcGFnZXNcbiAgICAgKiBAcmV0dXJuIHtudWxsfE51bWJlcn0gTnVsbCBpZiB0b3RhbCB3YXNuJ3QgcHJvdmlkZWQuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgIEEgbnVtYmVyIHJlcHJlc2VudGluZyBjdXJyZW50IHBhZ2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICBnZXQgdG90YWxQYWdlcygpIHtcbiAgICBpZiAodGhpcy50b3RhbCA9PT0gbnVsbCB8fCAhdGhpcy5zaXplKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMudG90YWwgPT09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMudG90YWwgLyB0aGlzLnNpemUpO1xuICB9XG5cbiAgLyoqXG4gICAgICogTWV0aG9kc1xuICAgICAqL1xuXG4gIC8qKlxuICAgICAqIFRyYXZlcnNlIHRvIHRoZSBuZXh0IHBhZ2UsIGFuZCB1cGRhdGUgdGhlIGRhdGFzb3VyY2UgYWNjb3JkaW5nbHkuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHdpdGggYSBib29sZWFuIGRhdGEuIFRydWUgaWZcbiAgICAgKiAgICAgICAgICAgICAgICAgICBzdWNjZXNzZnVsbHkgdHJhdmVyc2VkIHRvIG5leHQgcGFnZS5cbiAgICAgKiAgICAgICAgICAgICAgICAgICBGYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gIG5leHRQYWdlKCkge1xuICAgIHJldHVybiB0aGlzLmdvVG9QYWdlKHRoaXMucGFnZSArIDEpO1xuICB9XG5cbiAgLyoqXG4gICAgICogVHJhdmVyc2UgdG8gdGhlIHByZXZpb3VzIHBhZ2UsIGFuZCB1cGRhdGUgdGhlIGRhdGFzb3VyY2UgYWNjb3JkaW5nbHkuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHdpdGggYSBib29sZWFuIGRhdGEuIFRydWUgaWZcbiAgICAgKiAgICAgICAgICAgICAgICAgICBzdWNjZXNzZnVsbHkgdHJhdmVyc2VkIHRvIHByZXZpb3VzIHBhZ2UuXG4gICAgICogICAgICAgICAgICAgICAgICAgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICBwcmV2UGFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nb1RvUGFnZSh0aGlzLnBhZ2UgLSAxKTtcbiAgfVxuXG4gIC8qKlxuICAgICAqIEdpdmVuIGEgc2VhcmNoIHRleHQsIGZpbHRlcnMgdGhlIGRhdGEgYWNjb3JkaW5nbHkuXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBzZWFyY2ggLSBUaGUgc2VhcmNoIHRleHQgdG8gZmlsdGVyIHdpdGguXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIG9iamVjdCwgcmVzb2x2ZWQgd2hlbiB0aGUgc2VhcmNoIGlzIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgc2VhcmNoKG5ld1NlYXJjaFRleHQpIHtcbiAgICB0aGlzLnNlYXJjaFRleHQgPSBuZXdTZWFyY2hUZXh0O1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAgICogU29ydCB0aGUgZGF0YSBiYXNlZCBvbiBhIGZpZWxkIGFuZCBkaXJlY3Rpb24uXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBmaWVsZE5hbWUgLSBUaGUgbmFtZSBvZiBmaWVsZCB0byBzb3J0IHdpdGguXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBkaXJlY3Rpb24gLSBUaGUgc29ydCBkaXJlY3Rpb24uIENhbiBiZSAnYXNjJywgJ2FzY2VuZCcsICdkZXNjJywgJ2Rlc2NlbmRpbmcnXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIG9iamVjdCwgcmVzb2x2ZWQgd2hlbiB0aGUgc29ydGluZyBpcyBjb21wbGV0ZWQuXG4gICAgICovXG4gIHNvcnQoZmllbGROYW1lLCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoIWZpZWxkTmFtZSB8fCAhZGlyZWN0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvcnQgZmllbGQgYW5kIHNvcnQgZGlyZWN0aW9uIG11c3QgYmUgcHJvdmlkZWQnKTtcbiAgICB9XG4gICAgdGhpcy5zb3J0RmllbGQgPSBmaWVsZE5hbWU7XG4gICAgdGhpcy5zb3J0RGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZSgpO1xuICB9XG59XG5cbkRhdGFzb3VyY2VCYXNlLnByb3RvdHlwZS5kZWZhdWx0cyA9IHtcbiAgb2Zmc2V0OiAwLFxuICBzaXplOiAxMCxcbiAgc2VhcmNoVGV4dDogbnVsbCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFzb3VyY2VCYXNlO1xuIiwiaW1wb3J0IHF1ZXJ5U3RyaW5nIGZyb20gJ3F1ZXJ5LXN0cmluZyc7XG5cbmZ1bmN0aW9uIGhhc09iamVjdEluQXJyYXkoYXJyKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHR5cGVvZiBhcnJbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5jbGFzcyBRdWVyeUJ1aWxkZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgICAgLi4uUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5kZWZhdWx0cyxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfTtcbiAgICB0aGlzLnF1ZXJ5T2JqZWN0TWFwID0gbWVyZ2VkT3B0aW9ucy5xdWVyeU9iamVjdE1hcDtcbiAgICB0aGlzLnF1ZXJ5U3RyaW5nT3B0aW9ucyA9IG1lcmdlZE9wdGlvbnMucXVlcnlTdHJpbmdPcHRpb25zO1xuICAgIHRoaXMuc2VyaWFsaXNlVG9RdWVyeVN0cmluZyA9IG1lcmdlZE9wdGlvbnMuc2VyaWFsaXNlVG9RdWVyeVN0cmluZztcbiAgfVxuXG4gIGdldFF1ZXJ5T2JqZWN0KGRhdGFzb3VyY2UpIHtcbiAgICBpZiAoIXRoaXMucXVlcnlPYmplY3RNYXApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncXVlcnlPYmplY3RNYXAgbXVzdCBiZSBzcGVjaWZpZWQgYW5kIGNhbm5vdCBiZSB1bmRlZmluZWQgb3IgbnVsbC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucXVlcnlPYmplY3RNYXAuY2FsbCh0aGlzLCBkYXRhc291cmNlKTtcbiAgfVxuXG4gIGdldFF1ZXJ5U3RyaW5nKGRhdGFzb3VyY2UpIHtcbiAgICBjb25zdCBvYmplY3RUb1NlcmlhbGlzZSA9IHsgLi4udGhpcy5nZXRRdWVyeU9iamVjdChkYXRhc291cmNlKSB9O1xuICAgIGlmICh0aGlzLnNlcmlhbGlzZVRvUXVlcnlTdHJpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlcmlhbGlzZVRvUXVlcnlTdHJpbmcuY2FsbCh0aGlzLCBvYmplY3RUb1NlcmlhbGlzZSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignUXVlcnkgc3RyaW5nIHNlcmlhbGlzZXIgaXMgc3BlY2lmaWVkIGFzIG51bGwgb3IgdW5kZWZpbmVkIGluIHRoZSBvcHRpb25zLicpO1xuICB9XG59XG5cblF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gIC8vIFByb3BlcnRpZXMgdG8gaW5jbHVkZSBpbiB0aGVcbiAgLy8gc2VyaWFsaXNhdGlvbiB0byBHRVQgcXVlcnkgc3RyaW5nLFxuICAvLyBvciB3aGVuIGNvbnN0cnVjdGluZyB0aGVcbiAgLy8gZGF0YSBvYmplY3QuXG4gIC8vIEJ5IGRlZmF1bHQsIGl0IG9ubHkgaW5jbHVkZVxuICAvLyBwcmltaXRpdmUgcHJvcGVydGllcywgaWdub3JpbmdcbiAgLy8gb2JqZWN0cyBhbmQgYXJyYXlzLlxuICBxdWVyeU9iamVjdE1hcChkYXRhc291cmNlKSB7XG4gICAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGRhdGFzb3VyY2UpO1xuICAgIC8vIFJlbW92ZSBhbGwgbm9uLXByaW1pdGl2ZSBwcm9wZXJ0aWVzXG4gICAgY29uc3QgZmlsdGVyZWRFbnRyaWVzID0gZW50cmllcy5maWx0ZXIoKGVudHJ5KSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBlbnRyeVswXTtcbiAgICAgIGlmIChrZXkuaW5kZXhPZignXycpID09PSAwKSB7IC8vIElnbm9yZSAncHJpdmF0ZScgcHJvcGVydGllc1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZSA9IGVudHJ5WzFdO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gICAgY29uc3QgcXVlcnlPYmplY3QgPSB7XG4gICAgICAvLyBDb21wdXRlZCBnZXR0ZXJzIGRvZXNuJ3QgZ2V0IGluY2x1ZGVkIGluIEVTNiBzcHJlYWQgc3ludGF4LFxuICAgICAgLy8gc28gd2UgbWFudWFsbHkgaW5jbHVkZSB0aGUgbmVjZXNzYXJ5IG9uZSBiZWxvdy5cbiAgICAgIHBhZ2U6IGRhdGFzb3VyY2UucGFnZSxcbiAgICB9O1xuICAgIGZpbHRlcmVkRW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gZW50cnlbMF07XG4gICAgICBjb25zdCB2YWx1ZSA9IGVudHJ5WzFdO1xuICAgICAgcXVlcnlPYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBxdWVyeU9iamVjdDtcbiAgfSxcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiAgc2VyaWFsaXNlVG9RdWVyeVN0cmluZyhvYmplY3RUb1NlcmlhbGlzZSkge1xuICAgIE9iamVjdC5rZXlzKG9iamVjdFRvU2VyaWFsaXNlKS5mb3JFYWNoKChwcm9wKSA9PiB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3RUb1NlcmlhbGlzZVtwcm9wXSkgJiYgaGFzT2JqZWN0SW5BcnJheShvYmplY3RUb1NlcmlhbGlzZVtwcm9wXSkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmplY3RUb1NlcmlhbGlzZVtwcm9wXS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgIG9iamVjdFRvU2VyaWFsaXNlW3Byb3BdW2ldID0gSlNPTi5zdHJpbmdpZnkob2JqZWN0VG9TZXJpYWxpc2VbcHJvcF1baV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3RUb1NlcmlhbGlzZVtwcm9wXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgb2JqZWN0VG9TZXJpYWxpc2VbcHJvcF0gPSBKU09OLnN0cmluZ2lmeShvYmplY3RUb1NlcmlhbGlzZVtwcm9wXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHF1ZXJ5U3RyaW5nLnN0cmluZ2lmeShvYmplY3RUb1NlcmlhbGlzZSwgdGhpcy5xdWVyeVN0cmluZ09wdGlvbnMpO1xuICB9LFxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gIHF1ZXJ5U3RyaW5nT3B0aW9uczoge1xuICAgIC8vIEJ5IGRlZmF1bHQsIHVzZXMgTlBNIHF1ZXJ5XG4gICAgLy8gc3RyaW5nIHBhY2thZ2UgdG8gc2VyaWFsaXNlXG4gICAgLy8gdG8gcXVlcnkgc3RyaW5nLiBGb3IgZnVsbCBsaXN0XG4gICAgLy8gb2Ygb3B0aW9ucywgc2VlOlxuICAgIC8vICAgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcXVlcnktc3RyaW5nI3N0cmluZ2lmeW9iamVjdC1vcHRpb25zXG4gICAgLy8gSWYgeW91IHNwZWNpZmllZCBhIHF1ZXJ5IHN0cmluZyBzZXJpYWxpc2VyLFxuICAgIC8vIHRoaXMgb3B0aW9ucyBjYW4gb3B0aW9uYWxseSBiZSB1c2VkLlxuICAgIGFycmF5Rm9ybWF0OiAnYnJhY2tldCcsXG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBRdWVyeUJ1aWxkZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9